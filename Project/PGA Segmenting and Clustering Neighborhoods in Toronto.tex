\documentclass[11pt]{article}

    \usepackage[breakable]{tcolorbox}
    \usepackage{parskip} % Stop auto-indenting (to mimic markdown behaviour)
    
    \usepackage{iftex}
    \ifPDFTeX
    	\usepackage[T1]{fontenc}
    	\usepackage{mathpazo}
    \else
    	\usepackage{fontspec}
    \fi

    % Basic figure setup, for now with no caption control since it's done
    % automatically by Pandoc (which extracts ![](path) syntax from Markdown).
    \usepackage{graphicx}
    % Maintain compatibility with old templates. Remove in nbconvert 6.0
    \let\Oldincludegraphics\includegraphics
    % Ensure that by default, figures have no caption (until we provide a
    % proper Figure object with a Caption API and a way to capture that
    % in the conversion process - todo).
    \usepackage{caption}
    \DeclareCaptionFormat{nocaption}{}
    \captionsetup{format=nocaption,aboveskip=0pt,belowskip=0pt}

    \usepackage[Export]{adjustbox} % Used to constrain images to a maximum size
    \adjustboxset{max size={0.9\linewidth}{0.9\paperheight}}
    \usepackage{float}
    \floatplacement{figure}{H} % forces figures to be placed at the correct location
    \usepackage{xcolor} % Allow colors to be defined
    \usepackage{enumerate} % Needed for markdown enumerations to work
    \usepackage{geometry} % Used to adjust the document margins
    \usepackage{amsmath} % Equations
    \usepackage{amssymb} % Equations
    \usepackage{textcomp} % defines textquotesingle
    % Hack from http://tex.stackexchange.com/a/47451/13684:
    \AtBeginDocument{%
        \def\PYZsq{\textquotesingle}% Upright quotes in Pygmentized code
    }
    \usepackage{upquote} % Upright quotes for verbatim code
    \usepackage{eurosym} % defines \euro
    \usepackage[mathletters]{ucs} % Extended unicode (utf-8) support
    \usepackage{fancyvrb} % verbatim replacement that allows latex
    \usepackage{grffile} % extends the file name processing of package graphics 
                         % to support a larger range
    \makeatletter % fix for grffile with XeLaTeX
    \def\Gread@@xetex#1{%
      \IfFileExists{"\Gin@base".bb}%
      {\Gread@eps{\Gin@base.bb}}%
      {\Gread@@xetex@aux#1}%
    }
    \makeatother

    % The hyperref package gives us a pdf with properly built
    % internal navigation ('pdf bookmarks' for the table of contents,
    % internal cross-reference links, web links for URLs, etc.)
    \usepackage{hyperref}
    % The default LaTeX title has an obnoxious amount of whitespace. By default,
    % titling removes some of it. It also provides customization options.
    \usepackage{titling}
    \usepackage{longtable} % longtable support required by pandoc >1.10
    \usepackage{booktabs}  % table support for pandoc > 1.12.2
    \usepackage[inline]{enumitem} % IRkernel/repr support (it uses the enumerate* environment)
    \usepackage[normalem]{ulem} % ulem is needed to support strikethroughs (\sout)
                                % normalem makes italics be italics, not underlines
    \usepackage{mathrsfs}
    

    
    % Colors for the hyperref package
    \definecolor{urlcolor}{rgb}{0,.145,.698}
    \definecolor{linkcolor}{rgb}{.71,0.21,0.01}
    \definecolor{citecolor}{rgb}{.12,.54,.11}

    % ANSI colors
    \definecolor{ansi-black}{HTML}{3E424D}
    \definecolor{ansi-black-intense}{HTML}{282C36}
    \definecolor{ansi-red}{HTML}{E75C58}
    \definecolor{ansi-red-intense}{HTML}{B22B31}
    \definecolor{ansi-green}{HTML}{00A250}
    \definecolor{ansi-green-intense}{HTML}{007427}
    \definecolor{ansi-yellow}{HTML}{DDB62B}
    \definecolor{ansi-yellow-intense}{HTML}{B27D12}
    \definecolor{ansi-blue}{HTML}{208FFB}
    \definecolor{ansi-blue-intense}{HTML}{0065CA}
    \definecolor{ansi-magenta}{HTML}{D160C4}
    \definecolor{ansi-magenta-intense}{HTML}{A03196}
    \definecolor{ansi-cyan}{HTML}{60C6C8}
    \definecolor{ansi-cyan-intense}{HTML}{258F8F}
    \definecolor{ansi-white}{HTML}{C5C1B4}
    \definecolor{ansi-white-intense}{HTML}{A1A6B2}
    \definecolor{ansi-default-inverse-fg}{HTML}{FFFFFF}
    \definecolor{ansi-default-inverse-bg}{HTML}{000000}

    % commands and environments needed by pandoc snippets
    % extracted from the output of `pandoc -s`
    \providecommand{\tightlist}{%
      \setlength{\itemsep}{0pt}\setlength{\parskip}{0pt}}
    \DefineVerbatimEnvironment{Highlighting}{Verbatim}{commandchars=\\\{\}}
    % Add ',fontsize=\small' for more characters per line
    \newenvironment{Shaded}{}{}
    \newcommand{\KeywordTok}[1]{\textcolor[rgb]{0.00,0.44,0.13}{\textbf{{#1}}}}
    \newcommand{\DataTypeTok}[1]{\textcolor[rgb]{0.56,0.13,0.00}{{#1}}}
    \newcommand{\DecValTok}[1]{\textcolor[rgb]{0.25,0.63,0.44}{{#1}}}
    \newcommand{\BaseNTok}[1]{\textcolor[rgb]{0.25,0.63,0.44}{{#1}}}
    \newcommand{\FloatTok}[1]{\textcolor[rgb]{0.25,0.63,0.44}{{#1}}}
    \newcommand{\CharTok}[1]{\textcolor[rgb]{0.25,0.44,0.63}{{#1}}}
    \newcommand{\StringTok}[1]{\textcolor[rgb]{0.25,0.44,0.63}{{#1}}}
    \newcommand{\CommentTok}[1]{\textcolor[rgb]{0.38,0.63,0.69}{\textit{{#1}}}}
    \newcommand{\OtherTok}[1]{\textcolor[rgb]{0.00,0.44,0.13}{{#1}}}
    \newcommand{\AlertTok}[1]{\textcolor[rgb]{1.00,0.00,0.00}{\textbf{{#1}}}}
    \newcommand{\FunctionTok}[1]{\textcolor[rgb]{0.02,0.16,0.49}{{#1}}}
    \newcommand{\RegionMarkerTok}[1]{{#1}}
    \newcommand{\ErrorTok}[1]{\textcolor[rgb]{1.00,0.00,0.00}{\textbf{{#1}}}}
    \newcommand{\NormalTok}[1]{{#1}}
    
    % Additional commands for more recent versions of Pandoc
    \newcommand{\ConstantTok}[1]{\textcolor[rgb]{0.53,0.00,0.00}{{#1}}}
    \newcommand{\SpecialCharTok}[1]{\textcolor[rgb]{0.25,0.44,0.63}{{#1}}}
    \newcommand{\VerbatimStringTok}[1]{\textcolor[rgb]{0.25,0.44,0.63}{{#1}}}
    \newcommand{\SpecialStringTok}[1]{\textcolor[rgb]{0.73,0.40,0.53}{{#1}}}
    \newcommand{\ImportTok}[1]{{#1}}
    \newcommand{\DocumentationTok}[1]{\textcolor[rgb]{0.73,0.13,0.13}{\textit{{#1}}}}
    \newcommand{\AnnotationTok}[1]{\textcolor[rgb]{0.38,0.63,0.69}{\textbf{\textit{{#1}}}}}
    \newcommand{\CommentVarTok}[1]{\textcolor[rgb]{0.38,0.63,0.69}{\textbf{\textit{{#1}}}}}
    \newcommand{\VariableTok}[1]{\textcolor[rgb]{0.10,0.09,0.49}{{#1}}}
    \newcommand{\ControlFlowTok}[1]{\textcolor[rgb]{0.00,0.44,0.13}{\textbf{{#1}}}}
    \newcommand{\OperatorTok}[1]{\textcolor[rgb]{0.40,0.40,0.40}{{#1}}}
    \newcommand{\BuiltInTok}[1]{{#1}}
    \newcommand{\ExtensionTok}[1]{{#1}}
    \newcommand{\PreprocessorTok}[1]{\textcolor[rgb]{0.74,0.48,0.00}{{#1}}}
    \newcommand{\AttributeTok}[1]{\textcolor[rgb]{0.49,0.56,0.16}{{#1}}}
    \newcommand{\InformationTok}[1]{\textcolor[rgb]{0.38,0.63,0.69}{\textbf{\textit{{#1}}}}}
    \newcommand{\WarningTok}[1]{\textcolor[rgb]{0.38,0.63,0.69}{\textbf{\textit{{#1}}}}}
    
    
    % Define a nice break command that doesn't care if a line doesn't already
    % exist.
    \def\br{\hspace*{\fill} \\* }
    % Math Jax compatibility definitions
    \def\gt{>}
    \def\lt{<}
    \let\Oldtex\TeX
    \let\Oldlatex\LaTeX
    \renewcommand{\TeX}{\textrm{\Oldtex}}
    \renewcommand{\LaTeX}{\textrm{\Oldlatex}}
    % Document parameters
    % Document title
    \title{PGA Segmenting and Clustering Neighborhoods in Toronto}
    
    
    
    
    
% Pygments definitions
\makeatletter
\def\PY@reset{\let\PY@it=\relax \let\PY@bf=\relax%
    \let\PY@ul=\relax \let\PY@tc=\relax%
    \let\PY@bc=\relax \let\PY@ff=\relax}
\def\PY@tok#1{\csname PY@tok@#1\endcsname}
\def\PY@toks#1+{\ifx\relax#1\empty\else%
    \PY@tok{#1}\expandafter\PY@toks\fi}
\def\PY@do#1{\PY@bc{\PY@tc{\PY@ul{%
    \PY@it{\PY@bf{\PY@ff{#1}}}}}}}
\def\PY#1#2{\PY@reset\PY@toks#1+\relax+\PY@do{#2}}

\expandafter\def\csname PY@tok@w\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.73,0.73,0.73}{##1}}}
\expandafter\def\csname PY@tok@c\endcsname{\let\PY@it=\textit\def\PY@tc##1{\textcolor[rgb]{0.25,0.50,0.50}{##1}}}
\expandafter\def\csname PY@tok@cp\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.74,0.48,0.00}{##1}}}
\expandafter\def\csname PY@tok@k\endcsname{\let\PY@bf=\textbf\def\PY@tc##1{\textcolor[rgb]{0.00,0.50,0.00}{##1}}}
\expandafter\def\csname PY@tok@kp\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.00,0.50,0.00}{##1}}}
\expandafter\def\csname PY@tok@kt\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.69,0.00,0.25}{##1}}}
\expandafter\def\csname PY@tok@o\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.40,0.40,0.40}{##1}}}
\expandafter\def\csname PY@tok@ow\endcsname{\let\PY@bf=\textbf\def\PY@tc##1{\textcolor[rgb]{0.67,0.13,1.00}{##1}}}
\expandafter\def\csname PY@tok@nb\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.00,0.50,0.00}{##1}}}
\expandafter\def\csname PY@tok@nf\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.00,0.00,1.00}{##1}}}
\expandafter\def\csname PY@tok@nc\endcsname{\let\PY@bf=\textbf\def\PY@tc##1{\textcolor[rgb]{0.00,0.00,1.00}{##1}}}
\expandafter\def\csname PY@tok@nn\endcsname{\let\PY@bf=\textbf\def\PY@tc##1{\textcolor[rgb]{0.00,0.00,1.00}{##1}}}
\expandafter\def\csname PY@tok@ne\endcsname{\let\PY@bf=\textbf\def\PY@tc##1{\textcolor[rgb]{0.82,0.25,0.23}{##1}}}
\expandafter\def\csname PY@tok@nv\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.10,0.09,0.49}{##1}}}
\expandafter\def\csname PY@tok@no\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.53,0.00,0.00}{##1}}}
\expandafter\def\csname PY@tok@nl\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.63,0.63,0.00}{##1}}}
\expandafter\def\csname PY@tok@ni\endcsname{\let\PY@bf=\textbf\def\PY@tc##1{\textcolor[rgb]{0.60,0.60,0.60}{##1}}}
\expandafter\def\csname PY@tok@na\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.49,0.56,0.16}{##1}}}
\expandafter\def\csname PY@tok@nt\endcsname{\let\PY@bf=\textbf\def\PY@tc##1{\textcolor[rgb]{0.00,0.50,0.00}{##1}}}
\expandafter\def\csname PY@tok@nd\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.67,0.13,1.00}{##1}}}
\expandafter\def\csname PY@tok@s\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.73,0.13,0.13}{##1}}}
\expandafter\def\csname PY@tok@sd\endcsname{\let\PY@it=\textit\def\PY@tc##1{\textcolor[rgb]{0.73,0.13,0.13}{##1}}}
\expandafter\def\csname PY@tok@si\endcsname{\let\PY@bf=\textbf\def\PY@tc##1{\textcolor[rgb]{0.73,0.40,0.53}{##1}}}
\expandafter\def\csname PY@tok@se\endcsname{\let\PY@bf=\textbf\def\PY@tc##1{\textcolor[rgb]{0.73,0.40,0.13}{##1}}}
\expandafter\def\csname PY@tok@sr\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.73,0.40,0.53}{##1}}}
\expandafter\def\csname PY@tok@ss\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.10,0.09,0.49}{##1}}}
\expandafter\def\csname PY@tok@sx\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.00,0.50,0.00}{##1}}}
\expandafter\def\csname PY@tok@m\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.40,0.40,0.40}{##1}}}
\expandafter\def\csname PY@tok@gh\endcsname{\let\PY@bf=\textbf\def\PY@tc##1{\textcolor[rgb]{0.00,0.00,0.50}{##1}}}
\expandafter\def\csname PY@tok@gu\endcsname{\let\PY@bf=\textbf\def\PY@tc##1{\textcolor[rgb]{0.50,0.00,0.50}{##1}}}
\expandafter\def\csname PY@tok@gd\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.63,0.00,0.00}{##1}}}
\expandafter\def\csname PY@tok@gi\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.00,0.63,0.00}{##1}}}
\expandafter\def\csname PY@tok@gr\endcsname{\def\PY@tc##1{\textcolor[rgb]{1.00,0.00,0.00}{##1}}}
\expandafter\def\csname PY@tok@ge\endcsname{\let\PY@it=\textit}
\expandafter\def\csname PY@tok@gs\endcsname{\let\PY@bf=\textbf}
\expandafter\def\csname PY@tok@gp\endcsname{\let\PY@bf=\textbf\def\PY@tc##1{\textcolor[rgb]{0.00,0.00,0.50}{##1}}}
\expandafter\def\csname PY@tok@go\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.53,0.53,0.53}{##1}}}
\expandafter\def\csname PY@tok@gt\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.00,0.27,0.87}{##1}}}
\expandafter\def\csname PY@tok@err\endcsname{\def\PY@bc##1{\setlength{\fboxsep}{0pt}\fcolorbox[rgb]{1.00,0.00,0.00}{1,1,1}{\strut ##1}}}
\expandafter\def\csname PY@tok@kc\endcsname{\let\PY@bf=\textbf\def\PY@tc##1{\textcolor[rgb]{0.00,0.50,0.00}{##1}}}
\expandafter\def\csname PY@tok@kd\endcsname{\let\PY@bf=\textbf\def\PY@tc##1{\textcolor[rgb]{0.00,0.50,0.00}{##1}}}
\expandafter\def\csname PY@tok@kn\endcsname{\let\PY@bf=\textbf\def\PY@tc##1{\textcolor[rgb]{0.00,0.50,0.00}{##1}}}
\expandafter\def\csname PY@tok@kr\endcsname{\let\PY@bf=\textbf\def\PY@tc##1{\textcolor[rgb]{0.00,0.50,0.00}{##1}}}
\expandafter\def\csname PY@tok@bp\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.00,0.50,0.00}{##1}}}
\expandafter\def\csname PY@tok@fm\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.00,0.00,1.00}{##1}}}
\expandafter\def\csname PY@tok@vc\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.10,0.09,0.49}{##1}}}
\expandafter\def\csname PY@tok@vg\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.10,0.09,0.49}{##1}}}
\expandafter\def\csname PY@tok@vi\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.10,0.09,0.49}{##1}}}
\expandafter\def\csname PY@tok@vm\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.10,0.09,0.49}{##1}}}
\expandafter\def\csname PY@tok@sa\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.73,0.13,0.13}{##1}}}
\expandafter\def\csname PY@tok@sb\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.73,0.13,0.13}{##1}}}
\expandafter\def\csname PY@tok@sc\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.73,0.13,0.13}{##1}}}
\expandafter\def\csname PY@tok@dl\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.73,0.13,0.13}{##1}}}
\expandafter\def\csname PY@tok@s2\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.73,0.13,0.13}{##1}}}
\expandafter\def\csname PY@tok@sh\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.73,0.13,0.13}{##1}}}
\expandafter\def\csname PY@tok@s1\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.73,0.13,0.13}{##1}}}
\expandafter\def\csname PY@tok@mb\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.40,0.40,0.40}{##1}}}
\expandafter\def\csname PY@tok@mf\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.40,0.40,0.40}{##1}}}
\expandafter\def\csname PY@tok@mh\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.40,0.40,0.40}{##1}}}
\expandafter\def\csname PY@tok@mi\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.40,0.40,0.40}{##1}}}
\expandafter\def\csname PY@tok@il\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.40,0.40,0.40}{##1}}}
\expandafter\def\csname PY@tok@mo\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.40,0.40,0.40}{##1}}}
\expandafter\def\csname PY@tok@ch\endcsname{\let\PY@it=\textit\def\PY@tc##1{\textcolor[rgb]{0.25,0.50,0.50}{##1}}}
\expandafter\def\csname PY@tok@cm\endcsname{\let\PY@it=\textit\def\PY@tc##1{\textcolor[rgb]{0.25,0.50,0.50}{##1}}}
\expandafter\def\csname PY@tok@cpf\endcsname{\let\PY@it=\textit\def\PY@tc##1{\textcolor[rgb]{0.25,0.50,0.50}{##1}}}
\expandafter\def\csname PY@tok@c1\endcsname{\let\PY@it=\textit\def\PY@tc##1{\textcolor[rgb]{0.25,0.50,0.50}{##1}}}
\expandafter\def\csname PY@tok@cs\endcsname{\let\PY@it=\textit\def\PY@tc##1{\textcolor[rgb]{0.25,0.50,0.50}{##1}}}

\def\PYZbs{\char`\\}
\def\PYZus{\char`\_}
\def\PYZob{\char`\{}
\def\PYZcb{\char`\}}
\def\PYZca{\char`\^}
\def\PYZam{\char`\&}
\def\PYZlt{\char`\<}
\def\PYZgt{\char`\>}
\def\PYZsh{\char`\#}
\def\PYZpc{\char`\%}
\def\PYZdl{\char`\$}
\def\PYZhy{\char`\-}
\def\PYZsq{\char`\'}
\def\PYZdq{\char`\"}
\def\PYZti{\char`\~}
% for compatibility with earlier versions
\def\PYZat{@}
\def\PYZlb{[}
\def\PYZrb{]}
\makeatother


    % For linebreaks inside Verbatim environment from package fancyvrb. 
    \makeatletter
        \newbox\Wrappedcontinuationbox 
        \newbox\Wrappedvisiblespacebox 
        \newcommand*\Wrappedvisiblespace {\textcolor{red}{\textvisiblespace}} 
        \newcommand*\Wrappedcontinuationsymbol {\textcolor{red}{\llap{\tiny$\m@th\hookrightarrow$}}} 
        \newcommand*\Wrappedcontinuationindent {3ex } 
        \newcommand*\Wrappedafterbreak {\kern\Wrappedcontinuationindent\copy\Wrappedcontinuationbox} 
        % Take advantage of the already applied Pygments mark-up to insert 
        % potential linebreaks for TeX processing. 
        %        {, <, #, %, $, ' and ": go to next line. 
        %        _, }, ^, &, >, - and ~: stay at end of broken line. 
        % Use of \textquotesingle for straight quote. 
        \newcommand*\Wrappedbreaksatspecials {% 
            \def\PYGZus{\discretionary{\char`\_}{\Wrappedafterbreak}{\char`\_}}% 
            \def\PYGZob{\discretionary{}{\Wrappedafterbreak\char`\{}{\char`\{}}% 
            \def\PYGZcb{\discretionary{\char`\}}{\Wrappedafterbreak}{\char`\}}}% 
            \def\PYGZca{\discretionary{\char`\^}{\Wrappedafterbreak}{\char`\^}}% 
            \def\PYGZam{\discretionary{\char`\&}{\Wrappedafterbreak}{\char`\&}}% 
            \def\PYGZlt{\discretionary{}{\Wrappedafterbreak\char`\<}{\char`\<}}% 
            \def\PYGZgt{\discretionary{\char`\>}{\Wrappedafterbreak}{\char`\>}}% 
            \def\PYGZsh{\discretionary{}{\Wrappedafterbreak\char`\#}{\char`\#}}% 
            \def\PYGZpc{\discretionary{}{\Wrappedafterbreak\char`\%}{\char`\%}}% 
            \def\PYGZdl{\discretionary{}{\Wrappedafterbreak\char`\$}{\char`\$}}% 
            \def\PYGZhy{\discretionary{\char`\-}{\Wrappedafterbreak}{\char`\-}}% 
            \def\PYGZsq{\discretionary{}{\Wrappedafterbreak\textquotesingle}{\textquotesingle}}% 
            \def\PYGZdq{\discretionary{}{\Wrappedafterbreak\char`\"}{\char`\"}}% 
            \def\PYGZti{\discretionary{\char`\~}{\Wrappedafterbreak}{\char`\~}}% 
        } 
        % Some characters . , ; ? ! / are not pygmentized. 
        % This macro makes them "active" and they will insert potential linebreaks 
        \newcommand*\Wrappedbreaksatpunct {% 
            \lccode`\~`\.\lowercase{\def~}{\discretionary{\hbox{\char`\.}}{\Wrappedafterbreak}{\hbox{\char`\.}}}% 
            \lccode`\~`\,\lowercase{\def~}{\discretionary{\hbox{\char`\,}}{\Wrappedafterbreak}{\hbox{\char`\,}}}% 
            \lccode`\~`\;\lowercase{\def~}{\discretionary{\hbox{\char`\;}}{\Wrappedafterbreak}{\hbox{\char`\;}}}% 
            \lccode`\~`\:\lowercase{\def~}{\discretionary{\hbox{\char`\:}}{\Wrappedafterbreak}{\hbox{\char`\:}}}% 
            \lccode`\~`\?\lowercase{\def~}{\discretionary{\hbox{\char`\?}}{\Wrappedafterbreak}{\hbox{\char`\?}}}% 
            \lccode`\~`\!\lowercase{\def~}{\discretionary{\hbox{\char`\!}}{\Wrappedafterbreak}{\hbox{\char`\!}}}% 
            \lccode`\~`\/\lowercase{\def~}{\discretionary{\hbox{\char`\/}}{\Wrappedafterbreak}{\hbox{\char`\/}}}% 
            \catcode`\.\active
            \catcode`\,\active 
            \catcode`\;\active
            \catcode`\:\active
            \catcode`\?\active
            \catcode`\!\active
            \catcode`\/\active 
            \lccode`\~`\~ 	
        }
    \makeatother

    \let\OriginalVerbatim=\Verbatim
    \makeatletter
    \renewcommand{\Verbatim}[1][1]{%
        %\parskip\z@skip
        \sbox\Wrappedcontinuationbox {\Wrappedcontinuationsymbol}%
        \sbox\Wrappedvisiblespacebox {\FV@SetupFont\Wrappedvisiblespace}%
        \def\FancyVerbFormatLine ##1{\hsize\linewidth
            \vtop{\raggedright\hyphenpenalty\z@\exhyphenpenalty\z@
                \doublehyphendemerits\z@\finalhyphendemerits\z@
                \strut ##1\strut}%
        }%
        % If the linebreak is at a space, the latter will be displayed as visible
        % space at end of first line, and a continuation symbol starts next line.
        % Stretch/shrink are however usually zero for typewriter font.
        \def\FV@Space {%
            \nobreak\hskip\z@ plus\fontdimen3\font minus\fontdimen4\font
            \discretionary{\copy\Wrappedvisiblespacebox}{\Wrappedafterbreak}
            {\kern\fontdimen2\font}%
        }%
        
        % Allow breaks at special characters using \PYG... macros.
        \Wrappedbreaksatspecials
        % Breaks at punctuation characters . , ; ? ! and / need catcode=\active 	
        \OriginalVerbatim[#1,codes*=\Wrappedbreaksatpunct]%
    }
    \makeatother

    % Exact colors from NB
    \definecolor{incolor}{HTML}{303F9F}
    \definecolor{outcolor}{HTML}{D84315}
    \definecolor{cellborder}{HTML}{CFCFCF}
    \definecolor{cellbackground}{HTML}{F7F7F7}
    
    % prompt
    \makeatletter
    \newcommand{\boxspacing}{\kern\kvtcb@left@rule\kern\kvtcb@boxsep}
    \makeatother
    \newcommand{\prompt}[4]{
        \ttfamily\llap{{\color{#2}[#3]:\hspace{3pt}#4}}\vspace{-\baselineskip}
    }
    

    
    % Prevent overflowing lines due to hard-to-break entities
    \sloppy 
    % Setup hyperref package
    \hypersetup{
      breaklinks=true,  % so long urls are correctly broken across lines
      colorlinks=true,
      urlcolor=urlcolor,
      linkcolor=linkcolor,
      citecolor=citecolor,
      }
    % Slightly bigger margins than the latex defaults
    
    \geometry{verbose,tmargin=1in,bmargin=1in,lmargin=1in,rmargin=1in}
    
    

\begin{document}
    
    \maketitle
    
    

    
    \hypertarget{coursera-capstone-project-segmenting-and-clustering-neighborhoods-in-toronto}{%
\section{Coursera Capstone Project: Segmenting and Clustering
Neighborhoods in
Toronto}\label{coursera-capstone-project-segmenting-and-clustering-neighborhoods-in-toronto}}

\hypertarget{author-kapil-kumar-nagwanshi}{%
\paragraph{Author: Kapil Kumar
Nagwanshi}\label{author-kapil-kumar-nagwanshi}}

\hypertarget{assignmen-question-1}{%
\subsection{Assignmen Question 1}\label{assignmen-question-1}}

\begin{itemize}
\tightlist
\item
  \textbf{For this assignment, we have to explore and cluster the
  neighborhoods in Toronto.}
\end{itemize}

    \hypertarget{part-1-of-question-1}{%
\subsubsection{Part 1 of Question 1}\label{part-1-of-question-1}}

\begin{enumerate}
\def\labelenumi{\arabic{enumi}.}
\tightlist
\item
  Start by creating a new Notebook for this assignment. --This is the
  notebook
\end{enumerate}

\textbf{Before we get the data and start exploring it, let's download
all the dependencies that we will need.}

    \begin{tcolorbox}[breakable, size=fbox, boxrule=1pt, pad at break*=1mm,colback=cellbackground, colframe=cellborder]
\prompt{In}{incolor}{2}{\boxspacing}
\begin{Verbatim}[commandchars=\\\{\}]
\PY{c+c1}{\PYZsh{}import necessary libraries}
\PY{k+kn}{import} \PY{n+nn}{numpy} \PY{k}{as} \PY{n+nn}{np} \PY{c+c1}{\PYZsh{} library to handle data in a vectorized manner}
\PY{k+kn}{import} \PY{n+nn}{pandas} \PY{k}{as} \PY{n+nn}{pd} \PY{c+c1}{\PYZsh{} library for data analsysis}
\PY{k+kn}{import} \PY{n+nn}{requests} \PY{c+c1}{\PYZsh{} Library for web scraping}
\PY{k+kn}{import} \PY{n+nn}{requests}
\PY{k+kn}{from} \PY{n+nn}{urllib}\PY{n+nn}{.}\PY{n+nn}{request} \PY{k+kn}{import} \PY{n}{urlopen}
\PY{k+kn}{from} \PY{n+nn}{bs4} \PY{k+kn}{import} \PY{n}{BeautifulSoup}
\PY{k+kn}{import} \PY{n+nn}{ssl}
\PY{k+kn}{import} \PY{n+nn}{csv}
\PY{n+nb}{print}\PY{p}{(}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Library import done...}\PY{l+s+s1}{\PYZsq{}}\PY{p}{)}
\end{Verbatim}
\end{tcolorbox}

    \begin{Verbatim}[commandchars=\\\{\}]
Library import done{\ldots}
    \end{Verbatim}

    \begin{tcolorbox}[breakable, size=fbox, boxrule=1pt, pad at break*=1mm,colback=cellbackground, colframe=cellborder]
\prompt{In}{incolor}{3}{\boxspacing}
\begin{Verbatim}[commandchars=\\\{\}]
\PY{c+c1}{\PYZsh{} Ignore SSL certificate errors}
\PY{n}{ctx} \PY{o}{=} \PY{n}{ssl}\PY{o}{.}\PY{n}{create\PYZus{}default\PYZus{}context}\PY{p}{(}\PY{p}{)}
\PY{n}{ctx}\PY{o}{.}\PY{n}{check\PYZus{}hostname} \PY{o}{=} \PY{k+kc}{False}
\PY{n}{ctx}\PY{o}{.}\PY{n}{verify\PYZus{}mode} \PY{o}{=} \PY{n}{ssl}\PY{o}{.}\PY{n}{CERT\PYZus{}NONE}
\PY{n+nb}{print}\PY{p}{(}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{SSL certificate errors ignored...}\PY{l+s+s1}{\PYZsq{}}\PY{p}{)}
\end{Verbatim}
\end{tcolorbox}

    \begin{Verbatim}[commandchars=\\\{\}]
SSL certificate errors ignored{\ldots}
    \end{Verbatim}

    \hypertarget{part-2-of-question-1}{%
\subsubsection{Part 2 of Question 1}\label{part-2-of-question-1}}

\begin{enumerate}
\def\labelenumi{\arabic{enumi}.}
\setcounter{enumi}{1}
\tightlist
\item
  Use the Notebook to build the code to scrape the following Wikipedia
  page,
  https://en.wikipedia.org/wiki/List\_of\_postal\_codes\_of\_Canada:\_M,
  in order to obtain the data that is in the table of postal codes and
  to transform the data into a pandas dataframe like the one shown in
  assignment.
\end{enumerate}

    \hypertarget{this-part-shows-raw-data-frame-obtained-from-httpsen.wikipedia.orgwikilist_of_postal_codes_of_canada_m-withput-cleaning}{%
\paragraph{This part shows raw data frame obtained from
https://en.wikipedia.org/wiki/List\_of\_postal\_codes\_of\_Canada:\_M
withput
cleaning}\label{this-part-shows-raw-data-frame-obtained-from-httpsen.wikipedia.orgwikilist_of_postal_codes_of_canada_m-withput-cleaning}}

    \begin{tcolorbox}[breakable, size=fbox, boxrule=1pt, pad at break*=1mm,colback=cellbackground, colframe=cellborder]
\prompt{In}{incolor}{4}{\boxspacing}
\begin{Verbatim}[commandchars=\\\{\}]
\PY{c+c1}{\PYZsh{}beautifulSoup instances}
\PY{n}{res\PYZus{}site} \PY{o}{=} \PY{n}{requests}\PY{o}{.}\PY{n}{get}\PY{p}{(}\PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{https://en.wikipedia.org/wiki/List\PYZus{}of\PYZus{}postal\PYZus{}codes\PYZus{}of\PYZus{}Canada:\PYZus{}M}\PY{l+s+s2}{\PYZdq{}}\PY{p}{)}
\PY{n}{soup} \PY{o}{=} \PY{n}{BeautifulSoup}\PY{p}{(}\PY{n}{res\PYZus{}site}\PY{o}{.}\PY{n}{content}\PY{p}{,}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{lxml}\PY{l+s+s1}{\PYZsq{}}\PY{p}{)}
\PY{n}{table} \PY{o}{=} \PY{n}{soup}\PY{o}{.}\PY{n}{find\PYZus{}all}\PY{p}{(}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{table}\PY{l+s+s1}{\PYZsq{}}\PY{p}{)}\PY{p}{[}\PY{l+m+mi}{0}\PY{p}{]} 
\PY{c+c1}{\PYZsh{}toronto\PYZus{}data = pd.read\PYZus{}html(str(table))[0]}
\PY{c+c1}{\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}\PYZsh{}}
\PY{n}{table\PYZus{}rows} \PY{o}{=} \PY{n}{table}\PY{o}{.}\PY{n}{tbody}\PY{o}{.}\PY{n}{find\PYZus{}all}\PY{p}{(}\PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{tr}\PY{l+s+s2}{\PYZdq{}}\PY{p}{)}

\PY{n}{res} \PY{o}{=} \PY{p}{[}\PY{p}{]}
\PY{k}{for} \PY{n}{tr} \PY{o+ow}{in} \PY{n}{table\PYZus{}rows}\PY{p}{:}
    \PY{n}{td} \PY{o}{=} \PY{n}{tr}\PY{o}{.}\PY{n}{find\PYZus{}all}\PY{p}{(}\PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{td}\PY{l+s+s2}{\PYZdq{}}\PY{p}{)}
    \PY{n}{row} \PY{o}{=} \PY{p}{[}\PY{n}{tr}\PY{o}{.}\PY{n}{text} \PY{k}{for} \PY{n}{tr} \PY{o+ow}{in} \PY{n}{td}\PY{p}{]}
    
    \PY{c+c1}{\PYZsh{} Only process the cells that have an assigned borough. Ignore cells with a borough that is Not assigned.}
    \PY{k}{if} \PY{n}{row} \PY{o}{!=} \PY{p}{[}\PY{p}{]} \PY{o+ow}{and} \PY{n}{row}\PY{p}{[}\PY{l+m+mi}{1}\PY{p}{]} \PY{o}{!=} \PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{Not assigned}\PY{l+s+s2}{\PYZdq{}}\PY{p}{:}
        \PY{c+c1}{\PYZsh{} If a cell has a borough but a \PYZdq{}Not assigned\PYZdq{} neighborhood, then the neighborhood will be the same as the borough.}
        \PY{k}{if} \PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{Not assigned}\PY{l+s+s2}{\PYZdq{}} \PY{o+ow}{in} \PY{n}{row}\PY{p}{[}\PY{l+m+mi}{2}\PY{p}{]}\PY{p}{:} 
            \PY{n}{row}\PY{p}{[}\PY{l+m+mi}{2}\PY{p}{]} \PY{o}{=} \PY{n}{row}\PY{p}{[}\PY{l+m+mi}{1}\PY{p}{]}
        \PY{n}{res}\PY{o}{.}\PY{n}{append}\PY{p}{(}\PY{n}{row}\PY{p}{)}

\PY{c+c1}{\PYZsh{} Dataframe with 3 columns}
\PY{n}{df\PYZus{}toronto} \PY{o}{=} \PY{n}{pd}\PY{o}{.}\PY{n}{DataFrame}\PY{p}{(}\PY{n}{res}\PY{p}{,} \PY{n}{columns} \PY{o}{=} \PY{p}{[}\PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{PostalCode}\PY{l+s+s2}{\PYZdq{}}\PY{p}{,} \PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{Borough}\PY{l+s+s2}{\PYZdq{}}\PY{p}{,} \PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{Neighborhood}\PY{l+s+s2}{\PYZdq{}}\PY{p}{]}\PY{p}{)}
\PY{n}{df\PYZus{}toronto}\PY{o}{.}\PY{n}{head}\PY{p}{(}\PY{p}{)}
\end{Verbatim}
\end{tcolorbox}

            \begin{tcolorbox}[breakable, size=fbox, boxrule=.5pt, pad at break*=1mm, opacityfill=0]
\prompt{Out}{outcolor}{4}{\boxspacing}
\begin{Verbatim}[commandchars=\\\{\}]
  PostalCode           Borough        Neighborhood
0        M3A        North York         Parkwoods\textbackslash{}n
1        M4A        North York  Victoria Village\textbackslash{}n
2        M5A  Downtown Toronto      Harbourfront\textbackslash{}n
3        M6A        North York  Lawrence Heights\textbackslash{}n
4        M6A        North York    Lawrence Manor\textbackslash{}n
\end{Verbatim}
\end{tcolorbox}
        
    \begin{tcolorbox}[breakable, size=fbox, boxrule=1pt, pad at break*=1mm,colback=cellbackground, colframe=cellborder]
\prompt{In}{incolor}{5}{\boxspacing}
\begin{Verbatim}[commandchars=\\\{\}]
\PY{c+c1}{\PYZsh{} Remove \PYZsq{}\PYZbs{}n\PYZsq{} from Neighborhood}
\PY{n}{df\PYZus{}toronto}\PY{p}{[}\PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{Neighborhood}\PY{l+s+s2}{\PYZdq{}}\PY{p}{]} \PY{o}{=} \PY{n}{df\PYZus{}toronto}\PY{p}{[}\PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{Neighborhood}\PY{l+s+s2}{\PYZdq{}}\PY{p}{]}\PY{o}{.}\PY{n}{str}\PY{o}{.}\PY{n}{replace}\PY{p}{(}\PY{l+s+s2}{\PYZdq{}}\PY{l+s+se}{\PYZbs{}n}\PY{l+s+s2}{\PYZdq{}}\PY{p}{,}\PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{\PYZdq{}}\PY{p}{)}
\PY{n}{df\PYZus{}toronto}\PY{o}{.}\PY{n}{head}\PY{p}{(}\PY{p}{)}
\end{Verbatim}
\end{tcolorbox}

            \begin{tcolorbox}[breakable, size=fbox, boxrule=.5pt, pad at break*=1mm, opacityfill=0]
\prompt{Out}{outcolor}{5}{\boxspacing}
\begin{Verbatim}[commandchars=\\\{\}]
  PostalCode           Borough      Neighborhood
0        M3A        North York         Parkwoods
1        M4A        North York  Victoria Village
2        M5A  Downtown Toronto      Harbourfront
3        M6A        North York  Lawrence Heights
4        M6A        North York    Lawrence Manor
\end{Verbatim}
\end{tcolorbox}
        
    \begin{tcolorbox}[breakable, size=fbox, boxrule=1pt, pad at break*=1mm,colback=cellbackground, colframe=cellborder]
\prompt{In}{incolor}{6}{\boxspacing}
\begin{Verbatim}[commandchars=\\\{\}]
\PY{n}{df\PYZus{}toronto}\PY{o}{.}\PY{n}{shape}
\end{Verbatim}
\end{tcolorbox}

            \begin{tcolorbox}[breakable, size=fbox, boxrule=.5pt, pad at break*=1mm, opacityfill=0]
\prompt{Out}{outcolor}{6}{\boxspacing}
\begin{Verbatim}[commandchars=\\\{\}]
(210, 3)
\end{Verbatim}
\end{tcolorbox}
        
    \hypertarget{part-3-of-question-1}{%
\subsubsection{Part 3 of Question 1}\label{part-3-of-question-1}}

\begin{enumerate}
\def\labelenumi{\arabic{enumi}.}
\setcounter{enumi}{2}
\tightlist
\item
  To create the above dataframe:
\end{enumerate}

\begin{itemize}
\tightlist
\item
  The dataframe will consist of three columns: PostalCode, Borough, and
  Neighborhood
\item
  Only process the cells that have an assigned borough. Ignore cells
  with a borough that is Not assigned.
\item
  More than one neighborhood can exist in one postal code area. For
  example, in the table on the Wikipedia page, you will notice that M5A
  is listed twice and has two neighborhoods: Harbourfront and Regent
  Park. These two rows will be combined into one row with the
  neighborhoods separated with a comma as shown in row 11 in the above
  table.
\item
  If a cell has a borough but a Not assigned neighborhood, then the
  neighborhood will be the same as the borough.
\item
  Clean your Notebook and add Markdown cells to explain your work and
  any assumptions you are making.
\item
  In the last cell of your notebook, use the .shape method to print the
  number of rows of your dataframe.
\end{itemize}

    \hypertarget{this-part-shows-cleaned-obtained-dataframe-httpsen.wikipedia.orgwikilist_of_postal_codes_of_canada_m-with-grouping-of-same-postal-codes}{%
\paragraph{This part shows cleaned obtained dataframe
https://en.wikipedia.org/wiki/List\_of\_postal\_codes\_of\_Canada:\_M
with grouping of same postal
codes}\label{this-part-shows-cleaned-obtained-dataframe-httpsen.wikipedia.orgwikilist_of_postal_codes_of_canada_m-with-grouping-of-same-postal-codes}}

    \begin{tcolorbox}[breakable, size=fbox, boxrule=1pt, pad at break*=1mm,colback=cellbackground, colframe=cellborder]
\prompt{In}{incolor}{7}{\boxspacing}
\begin{Verbatim}[commandchars=\\\{\}]
\PY{n}{df\PYZus{}toronto} \PY{o}{=} \PY{n}{df\PYZus{}toronto}\PY{o}{.}\PY{n}{groupby}\PY{p}{(}\PY{p}{[}\PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{PostalCode}\PY{l+s+s2}{\PYZdq{}}\PY{p}{,} \PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{Borough}\PY{l+s+s2}{\PYZdq{}}\PY{p}{]}\PY{p}{)}\PY{p}{[}\PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{Neighborhood}\PY{l+s+s2}{\PYZdq{}}\PY{p}{]}\PY{o}{.}\PY{n}{apply}\PY{p}{(}\PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{, }\PY{l+s+s2}{\PYZdq{}}\PY{o}{.}\PY{n}{join}\PY{p}{)}\PY{o}{.}\PY{n}{reset\PYZus{}index}\PY{p}{(}\PY{p}{)}
\PY{n}{df\PYZus{}toronto}\PY{o}{.}\PY{n}{head}\PY{p}{(}\PY{p}{)} 
\end{Verbatim}
\end{tcolorbox}

            \begin{tcolorbox}[breakable, size=fbox, boxrule=.5pt, pad at break*=1mm, opacityfill=0]
\prompt{Out}{outcolor}{7}{\boxspacing}
\begin{Verbatim}[commandchars=\\\{\}]
  PostalCode      Borough                            Neighborhood
0        M1B  Scarborough                          Rouge, Malvern
1        M1C  Scarborough  Highland Creek, Rouge Hill, Port Union
2        M1E  Scarborough       Guildwood, Morningside, West Hill
3        M1G  Scarborough                                  Woburn
4        M1H  Scarborough                               Cedarbrae
\end{Verbatim}
\end{tcolorbox}
        
    \begin{tcolorbox}[breakable, size=fbox, boxrule=1pt, pad at break*=1mm,colback=cellbackground, colframe=cellborder]
\prompt{In}{incolor}{8}{\boxspacing}
\begin{Verbatim}[commandchars=\\\{\}]
\PY{n}{df\PYZus{}toronto}\PY{o}{.}\PY{n}{shape}
\end{Verbatim}
\end{tcolorbox}

            \begin{tcolorbox}[breakable, size=fbox, boxrule=.5pt, pad at break*=1mm, opacityfill=0]
\prompt{Out}{outcolor}{8}{\boxspacing}
\begin{Verbatim}[commandchars=\\\{\}]
(103, 3)
\end{Verbatim}
\end{tcolorbox}
        
    \begin{tcolorbox}[breakable, size=fbox, boxrule=1pt, pad at break*=1mm,colback=cellbackground, colframe=cellborder]
\prompt{In}{incolor}{9}{\boxspacing}
\begin{Verbatim}[commandchars=\\\{\}]
\PY{n}{df\PYZus{}toronto}\PY{o}{.}\PY{n}{head}\PY{p}{(}\PY{l+m+mi}{15}\PY{p}{)}
\end{Verbatim}
\end{tcolorbox}

            \begin{tcolorbox}[breakable, size=fbox, boxrule=.5pt, pad at break*=1mm, opacityfill=0]
\prompt{Out}{outcolor}{9}{\boxspacing}
\begin{Verbatim}[commandchars=\\\{\}]
   PostalCode      Borough                                       Neighborhood
0         M1B  Scarborough                                     Rouge, Malvern
1         M1C  Scarborough             Highland Creek, Rouge Hill, Port Union
2         M1E  Scarborough                  Guildwood, Morningside, West Hill
3         M1G  Scarborough                                             Woburn
4         M1H  Scarborough                                          Cedarbrae
5         M1J  Scarborough                                Scarborough Village
6         M1K  Scarborough        East Birchmount Park, Ionview, Kennedy Park
7         M1L  Scarborough                    Clairlea, Golden Mile, Oakridge
8         M1M  Scarborough    Cliffcrest, Cliffside, Scarborough Village West
9         M1N  Scarborough                        Birch Cliff, Cliffside West
10        M1P  Scarborough  Dorset Park, Scarborough Town Centre, Wexford {\ldots}
11        M1R  Scarborough                                  Maryvale, Wexford
12        M1S  Scarborough                                          Agincourt
13        M1T  Scarborough            Clarks Corners, Sullivan, Tam O'Shanter
14        M1V  Scarborough  Agincourt North, L'Amoreaux East, Milliken, St{\ldots}
\end{Verbatim}
\end{tcolorbox}
        
    \hypertarget{part-4-of-the-question-1}{%
\subsubsection{Part 4 of the Question
1}\label{part-4-of-the-question-1}}

\begin{itemize}
\tightlist
\item
  Submit a link to your Notebook on your Github repository. (10 marks)
  \#\#\#\# End of Question 1
\end{itemize}

    \hypertarget{assignment-question-2}{%
\subsection{Assignment Question 2}\label{assignment-question-2}}

Now that you have built a dataframe of the postal code of each
neighborhood along with the borough name and neighborhood name, in order
to utilize the Foursquare location data, we need to get the latitude and
the longitude coordinates of each neighborhood.

In an older version of this course, we were leveraging the Google Maps
Geocoding API to get the latitude and the longitude coordinates of each
neighborhood. However, recently Google started charging for their API:
http://geoawesomeness.com/developers-up-in-arms-over-google-maps-api-insane-price-hike/,
so we will use the Geocoder Python package instead:
https://geocoder.readthedocs.io/index.html.

The problem with this Package is you have to be persistent sometimes in
order to get the geographical coordinates of a given postal code. So you
can make a call to get the latitude and longitude coordinates of a given
postal code and the result would be None, and then make the call again
and you would get the coordinates. So, in order to make sure that you
get the coordinates for all of our neighborhoods, you can run a while
loop for each postal code.

    \begin{itemize}
\tightlist
\item
  Check for geopy and geocoder packages
\end{itemize}

    \begin{tcolorbox}[breakable, size=fbox, boxrule=1pt, pad at break*=1mm,colback=cellbackground, colframe=cellborder]
\prompt{In}{incolor}{10}{\boxspacing}
\begin{Verbatim}[commandchars=\\\{\}]
\PY{k+kn}{import} \PY{n+nn}{geopy}
\PY{k+kn}{from}  \PY{n+nn}{geopy}\PY{n+nn}{.}\PY{n+nn}{geocoders} \PY{k+kn}{import} \PY{n}{Nominatim}
\PY{n}{nominatim\PYZus{}service} \PY{o}{=} \PY{n}{Nominatim}\PY{p}{(}\PY{n}{user\PYZus{}agent}\PY{o}{=}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{X@yy.com}\PY{l+s+s1}{\PYZsq{}}\PY{p}{)} \PY{c+c1}{\PYZsh{} Important line}
\PY{n}{geopy}\PY{o}{.}\PY{n}{geocoders}\PY{o}{.}\PY{n}{options}\PY{o}{.}\PY{n}{default\PYZus{}user\PYZus{}agent} \PY{o}{=} \PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{X@yy.com}\PY{l+s+s2}{\PYZdq{}} \PY{c+c1}{\PYZsh{} Important line}
\PY{n}{geolocator} \PY{o}{=} \PY{n}{Nominatim}\PY{p}{(}\PY{p}{)}
\end{Verbatim}
\end{tcolorbox}

    \begin{tcolorbox}[breakable, size=fbox, boxrule=1pt, pad at break*=1mm,colback=cellbackground, colframe=cellborder]
\prompt{In}{incolor}{11}{\boxspacing}
\begin{Verbatim}[commandchars=\\\{\}]
\PY{n}{city} \PY{o}{=}\PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{Toronto}\PY{l+s+s2}{\PYZdq{}}
\PY{n}{country} \PY{o}{=}\PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{Canada}\PY{l+s+s2}{\PYZdq{}}
\PY{n}{loc} \PY{o}{=} \PY{n}{geolocator}\PY{o}{.}\PY{n}{geocode}\PY{p}{(}\PY{n}{city}\PY{o}{+}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{,}\PY{l+s+s1}{\PYZsq{}}\PY{o}{+} \PY{n}{country}\PY{p}{)}
\PY{n+nb}{print}\PY{p}{(}\PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{latitude is :\PYZhy{}}\PY{l+s+s2}{\PYZdq{}} \PY{p}{,}\PY{n}{loc}\PY{o}{.}\PY{n}{latitude}\PY{p}{,}\PY{l+s+s2}{\PYZdq{}}\PY{l+s+se}{\PYZbs{}n}\PY{l+s+s2}{longtitude is:\PYZhy{}}\PY{l+s+s2}{\PYZdq{}} \PY{p}{,}\PY{n}{loc}\PY{o}{.}\PY{n}{longitude}\PY{p}{)}
\end{Verbatim}
\end{tcolorbox}

    \begin{Verbatim}[commandchars=\\\{\}]
latitude is :- 43.653963
longtitude is:- -79.387207
    \end{Verbatim}

    \begin{tcolorbox}[breakable, size=fbox, boxrule=1pt, pad at break*=1mm,colback=cellbackground, colframe=cellborder]
\prompt{In}{incolor}{12}{\boxspacing}
\begin{Verbatim}[commandchars=\\\{\}]
\PY{n}{location} \PY{o}{=} \PY{n}{geolocator}\PY{o}{.}\PY{n}{geocode}\PY{p}{(}\PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{Toronto, North York, Parkwoods}\PY{l+s+s2}{\PYZdq{}}\PY{p}{)}
\PY{n+nb}{print}\PY{p}{(}\PY{n}{location}\PY{o}{.}\PY{n}{address}\PY{p}{)}
\PY{n+nb}{print}\PY{p}{(}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{\PYZsq{}}\PY{p}{)}
\PY{n+nb}{print}\PY{p}{(}\PY{p}{(}\PY{n}{location}\PY{o}{.}\PY{n}{latitude}\PY{p}{,} \PY{n}{location}\PY{o}{.}\PY{n}{longitude}\PY{p}{)}\PY{p}{)}
\PY{n+nb}{print}\PY{p}{(}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{\PYZsq{}}\PY{p}{)}
\PY{n+nb}{print}\PY{p}{(}\PY{n}{location}\PY{o}{.}\PY{n}{raw}\PY{p}{)}
\end{Verbatim}
\end{tcolorbox}

    \begin{Verbatim}[commandchars=\\\{\}]
Parkwoods Village Drive, Parkway East, Don Valley East, North York, Toronto,
Golden Horseshoe, Ontario, M3A 2X2, Canada

(43.7587999, -79.3201966)

\{'place\_id': 124974741, 'licence': 'Data © OpenStreetMap contributors, ODbL 1.0.
https://osm.org/copyright', 'osm\_type': 'way', 'osm\_id': 160406961,
'boundingbox': ['43.7576231', '43.761106', '-79.3239088', '-79.316215'], 'lat':
'43.7587999', 'lon': '-79.3201966', 'display\_name': 'Parkwoods Village Drive,
Parkway East, Don Valley East, North York, Toronto, Golden Horseshoe, Ontario,
M3A 2X2, Canada', 'class': 'highway', 'type': 'secondary', 'importance': 0.51\}
    \end{Verbatim}

    \hypertarget{get-the-latitude-and-the-longitude-coordinates-of-each-neighborhood}{%
\subsubsection{Get the latitude and the longitude coordinates of each
neighborhood}\label{get-the-latitude-and-the-longitude-coordinates-of-each-neighborhood}}

    \begin{tcolorbox}[breakable, size=fbox, boxrule=1pt, pad at break*=1mm,colback=cellbackground, colframe=cellborder]
\prompt{In}{incolor}{13}{\boxspacing}
\begin{Verbatim}[commandchars=\\\{\}]
\PY{k+kn}{import} \PY{n+nn}{geopy}
\PY{k+kn}{from}  \PY{n+nn}{geopy}\PY{n+nn}{.}\PY{n+nn}{geocoders} \PY{k+kn}{import} \PY{n}{Nominatim}
\PY{k+kn}{import} \PY{n+nn}{pandas} \PY{k}{as} \PY{n+nn}{pd}
\PY{n}{locator} \PY{o}{=} \PY{n}{Nominatim}\PY{p}{(}\PY{n}{user\PYZus{}agent}\PY{o}{=}\PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{KapilsGeocoder}\PY{l+s+s2}{\PYZdq{}}\PY{p}{)}
\PY{n}{location} \PY{o}{=} \PY{n}{locator}\PY{o}{.}\PY{n}{geocode}\PY{p}{(}\PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{Toronto, Canada}\PY{l+s+s2}{\PYZdq{}}\PY{p}{)}
\PY{k+kn}{from} \PY{n+nn}{geopy}\PY{n+nn}{.}\PY{n+nn}{extra}\PY{n+nn}{.}\PY{n+nn}{rate\PYZus{}limiter} \PY{k+kn}{import} \PY{n}{RateLimiter}
\PY{c+c1}{\PYZsh{} PostalCode	Borough	Neighborhood}
\PY{n}{df\PYZus{}temp}\PY{o}{=}\PY{n}{df\PYZus{}toronto}
\PY{c+c1}{\PYZsh{} 1 \PYZhy{} conveneint function to delay between geocoding calls}
\PY{n}{geocode} \PY{o}{=} \PY{n}{RateLimiter}\PY{p}{(}\PY{n}{locator}\PY{o}{.}\PY{n}{geocode}\PY{p}{,} \PY{n}{min\PYZus{}delay\PYZus{}seconds}\PY{o}{=}\PY{l+m+mi}{1}\PY{p}{)}
\PY{c+c1}{\PYZsh{} 2\PYZhy{} \PYZhy{} create location column}
\PY{n}{df\PYZus{}temp}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Address}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]} \PY{o}{=} \PY{n}{df\PYZus{}temp}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{PostalCode}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{o}{.}\PY{n}{astype}\PY{p}{(}\PY{n+nb}{str}\PY{p}{)} \PY{o}{+} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{,}\PY{l+s+s1}{\PYZsq{}} \PY{o}{+} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{ Toronto}\PY{l+s+s1}{\PYZsq{}}   
\PY{n}{df\PYZus{}temp}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Location}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]} \PY{o}{=} \PY{n}{df\PYZus{}temp}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Address}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{o}{.}\PY{n}{apply}\PY{p}{(}\PY{n}{geocode}\PY{p}{)}
\PY{c+c1}{\PYZsh{} 3 \PYZhy{} create longitude, laatitude and altitude from location column (returns tuple)}
\PY{n}{df\PYZus{}temp}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Point}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]} \PY{o}{=} \PY{n}{df\PYZus{}temp}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Location}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{o}{.}\PY{n}{apply}\PY{p}{(}\PY{k}{lambda} \PY{n}{loc}\PY{p}{:} \PY{n+nb}{tuple}\PY{p}{(}\PY{n}{loc}\PY{o}{.}\PY{n}{point}\PY{p}{)} \PY{k}{if} \PY{n}{loc} \PY{k}{else} \PY{k+kc}{None}\PY{p}{)}
\PY{c+c1}{\PYZsh{} 4 \PYZhy{} split point column into latitude, longitude and altitude columns}
\PY{c+c1}{\PYZsh{} df\PYZus{}temp[[\PYZsq{}latitude\PYZsq{}, \PYZsq{}longitude\PYZsq{}, \PYZsq{}altitude\PYZsq{}]] = pd.DataFrame(df\PYZus{}temp[\PYZsq{}Point\PYZsq{}].tolist(), index=df\PYZus{}temp.index)}
\end{Verbatim}
\end{tcolorbox}

    \begin{tcolorbox}[breakable, size=fbox, boxrule=1pt, pad at break*=1mm,colback=cellbackground, colframe=cellborder]
\prompt{In}{incolor}{14}{\boxspacing}
\begin{Verbatim}[commandchars=\\\{\}]
\PY{n}{df\PYZus{}temp}
\end{Verbatim}
\end{tcolorbox}

            \begin{tcolorbox}[breakable, size=fbox, boxrule=.5pt, pad at break*=1mm, opacityfill=0]
\prompt{Out}{outcolor}{14}{\boxspacing}
\begin{Verbatim}[commandchars=\\\{\}]
    PostalCode      Borough  \textbackslash{}
0          M1B  Scarborough
1          M1C  Scarborough
2          M1E  Scarborough
3          M1G  Scarborough
4          M1H  Scarborough
..         {\ldots}          {\ldots}
98         M9N         York
99         M9P    Etobicoke
100        M9R    Etobicoke
101        M9V    Etobicoke
102        M9W    Etobicoke

                                          Neighborhood       Address  \textbackslash{}
0                                       Rouge, Malvern  M1B, Toronto
1               Highland Creek, Rouge Hill, Port Union  M1C, Toronto
2                    Guildwood, Morningside, West Hill  M1E, Toronto
3                                               Woburn  M1G, Toronto
4                                            Cedarbrae  M1H, Toronto
..                                                 {\ldots}           {\ldots}
98                                              Weston  M9N, Toronto
99                                           Westmount  M9P, Toronto
100  Kingsview Village, Martin Grove Gardens, Richv{\ldots}  M9R, Toronto
101  Albion Gardens, Beaumond Heights, Humbergate, {\ldots}  M9V, Toronto
102                                          Northwest  M9W, Toronto

                                              Location  \textbackslash{}
0    (Toronto, Punta Gorda, Montevideo, 11403, Urug{\ldots}
1    (Toronto, Punta Gorda, Montevideo, 11403, Urug{\ldots}
2                                                 None
3    (Scarborough—Guildwood, Scarborough, Toronto, {\ldots}
4                                                 None
..                                                 {\ldots}
98                                                None
99                                                None
100  (Etobicoke Centre, Etobicoke, Toronto, Golden {\ldots}
101                                               None
102                                               None

                                            Point
0                 (-34.8899421, -56.0790982, 0.0)
1                 (-34.8899421, -56.0790982, 0.0)
2                                            None
3    (43.76571676956549, -79.22189842824983, 0.0)
4                                            None
..                                            {\ldots}
98                                           None
99                                           None
100  (43.69516618990701, -79.55088985426742, 0.0)
101                                          None
102                                          None

[103 rows x 6 columns]
\end{Verbatim}
\end{tcolorbox}
        
    \hypertarget{from-above-simple-solution-we-are-not-able-to-get-the-geohraphical-coordinates-of-the-neighborhoods-using-the-geocoder-package-we-use-the-given-csv-file-instead.}{%
\subsubsection{From above simple solution, we are not able to get the
geohraphical coordinates of the neighborhoods using the Geocoder
package, we use the given csv file
instead.}\label{from-above-simple-solution-we-are-not-able-to-get-the-geohraphical-coordinates-of-the-neighborhoods-using-the-geocoder-package-we-use-the-given-csv-file-instead.}}

    \begin{tcolorbox}[breakable, size=fbox, boxrule=1pt, pad at break*=1mm,colback=cellbackground, colframe=cellborder]
\prompt{In}{incolor}{15}{\boxspacing}
\begin{Verbatim}[commandchars=\\\{\}]
\PY{n}{df\PYZus{}geo\PYZus{}coor} \PY{o}{=} \PY{n}{pd}\PY{o}{.}\PY{n}{read\PYZus{}csv}\PY{p}{(}\PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{./Geospatial\PYZus{}Coordinates.csv}\PY{l+s+s2}{\PYZdq{}}\PY{p}{)}
\PY{n}{df\PYZus{}geo\PYZus{}coor}\PY{o}{.}\PY{n}{head}\PY{p}{(}\PY{p}{)}
\end{Verbatim}
\end{tcolorbox}

            \begin{tcolorbox}[breakable, size=fbox, boxrule=.5pt, pad at break*=1mm, opacityfill=0]
\prompt{Out}{outcolor}{15}{\boxspacing}
\begin{Verbatim}[commandchars=\\\{\}]
  Postal Code   Latitude  Longitude
0         M1B  43.806686 -79.194353
1         M1C  43.784535 -79.160497
2         M1E  43.763573 -79.188711
3         M1G  43.770992 -79.216917
4         M1H  43.773136 -79.239476
\end{Verbatim}
\end{tcolorbox}
        
    \begin{tcolorbox}[breakable, size=fbox, boxrule=1pt, pad at break*=1mm,colback=cellbackground, colframe=cellborder]
\prompt{In}{incolor}{16}{\boxspacing}
\begin{Verbatim}[commandchars=\\\{\}]
\PY{n}{df\PYZus{}toronto}\PY{o}{.}\PY{n}{head}\PY{p}{(}\PY{p}{)} 
\PY{c+c1}{\PYZsh{} df\PYZus{}toronto dataframe played through geocoder }
\PY{c+c1}{\PYZsh{} beacause of call limits it won\PYZsq{}t work for all see \PYZsq{}none\PYZsq{} in point columns }
\end{Verbatim}
\end{tcolorbox}

            \begin{tcolorbox}[breakable, size=fbox, boxrule=.5pt, pad at break*=1mm, opacityfill=0]
\prompt{Out}{outcolor}{16}{\boxspacing}
\begin{Verbatim}[commandchars=\\\{\}]
  PostalCode      Borough                            Neighborhood  \textbackslash{}
0        M1B  Scarborough                          Rouge, Malvern
1        M1C  Scarborough  Highland Creek, Rouge Hill, Port Union
2        M1E  Scarborough       Guildwood, Morningside, West Hill
3        M1G  Scarborough                                  Woburn
4        M1H  Scarborough                               Cedarbrae

        Address                                           Location  \textbackslash{}
0  M1B, Toronto  (Toronto, Punta Gorda, Montevideo, 11403, Urug{\ldots}
1  M1C, Toronto  (Toronto, Punta Gorda, Montevideo, 11403, Urug{\ldots}
2  M1E, Toronto                                               None
3  M1G, Toronto  (Scarborough—Guildwood, Scarborough, Toronto, {\ldots}
4  M1H, Toronto                                               None

                                          Point
0               (-34.8899421, -56.0790982, 0.0)
1               (-34.8899421, -56.0790982, 0.0)
2                                          None
3  (43.76571676956549, -79.22189842824983, 0.0)
4                                          None
\end{Verbatim}
\end{tcolorbox}
        
    \begin{tcolorbox}[breakable, size=fbox, boxrule=1pt, pad at break*=1mm,colback=cellbackground, colframe=cellborder]
\prompt{In}{incolor}{17}{\boxspacing}
\begin{Verbatim}[commandchars=\\\{\}]
\PY{c+c1}{\PYZsh{} drop address location and point columns to get original dataframe}
\PY{n}{df\PYZus{}toronto}\PY{o}{.}\PY{n}{drop}\PY{p}{(}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Address}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Location}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Point}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{p}{,} \PY{n}{axis}\PY{o}{=}\PY{l+m+mi}{1}\PY{p}{,} \PY{n}{inplace}\PY{o}{=}\PY{k+kc}{True}\PY{p}{)}
\PY{n}{df\PYZus{}toronto}\PY{o}{.}\PY{n}{head}\PY{p}{(}\PY{p}{)}
\end{Verbatim}
\end{tcolorbox}

            \begin{tcolorbox}[breakable, size=fbox, boxrule=.5pt, pad at break*=1mm, opacityfill=0]
\prompt{Out}{outcolor}{17}{\boxspacing}
\begin{Verbatim}[commandchars=\\\{\}]
  PostalCode      Borough                            Neighborhood
0        M1B  Scarborough                          Rouge, Malvern
1        M1C  Scarborough  Highland Creek, Rouge Hill, Port Union
2        M1E  Scarborough       Guildwood, Morningside, West Hill
3        M1G  Scarborough                                  Woburn
4        M1H  Scarborough                               Cedarbrae
\end{Verbatim}
\end{tcolorbox}
        
    \textbf{Now We need to couple 2 dataframes ``df\_toronto'' and
``df\_geo\_coor'' into one dataframe.}

    \begin{tcolorbox}[breakable, size=fbox, boxrule=1pt, pad at break*=1mm,colback=cellbackground, colframe=cellborder]
\prompt{In}{incolor}{18}{\boxspacing}
\begin{Verbatim}[commandchars=\\\{\}]
\PY{n}{df\PYZus{}toronto2} \PY{o}{=} \PY{n}{pd}\PY{o}{.}\PY{n}{merge}\PY{p}{(}\PY{n}{df\PYZus{}toronto}\PY{p}{,} \PY{n}{df\PYZus{}geo\PYZus{}coor}\PY{p}{,} \PY{n}{how}\PY{o}{=}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{left}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{n}{left\PYZus{}on} \PY{o}{=} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{PostalCode}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{n}{right\PYZus{}on} \PY{o}{=} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Postal Code}\PY{l+s+s1}{\PYZsq{}}\PY{p}{)}
\PY{c+c1}{\PYZsh{} remove the \PYZdq{}Postal Code\PYZdq{} column}
\PY{n}{df\PYZus{}toronto2}\PY{o}{.}\PY{n}{drop}\PY{p}{(}\PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{Postal Code}\PY{l+s+s2}{\PYZdq{}}\PY{p}{,} \PY{n}{axis}\PY{o}{=}\PY{l+m+mi}{1}\PY{p}{,} \PY{n}{inplace}\PY{o}{=}\PY{k+kc}{True}\PY{p}{)}
\PY{n}{df\PYZus{}toronto2}\PY{o}{.}\PY{n}{head}\PY{p}{(}\PY{p}{)}
\end{Verbatim}
\end{tcolorbox}

            \begin{tcolorbox}[breakable, size=fbox, boxrule=.5pt, pad at break*=1mm, opacityfill=0]
\prompt{Out}{outcolor}{18}{\boxspacing}
\begin{Verbatim}[commandchars=\\\{\}]
  PostalCode      Borough                            Neighborhood   Latitude  \textbackslash{}
0        M1B  Scarborough                          Rouge, Malvern  43.806686
1        M1C  Scarborough  Highland Creek, Rouge Hill, Port Union  43.784535
2        M1E  Scarborough       Guildwood, Morningside, West Hill  43.763573
3        M1G  Scarborough                                  Woburn  43.770992
4        M1H  Scarborough                               Cedarbrae  43.773136

   Longitude
0 -79.194353
1 -79.160497
2 -79.188711
3 -79.216917
4 -79.239476
\end{Verbatim}
\end{tcolorbox}
        
    \hypertarget{assignment-question-3-explore-and-cluster-the-neighborhoods-in-toronto}{%
\subsection{Assignment Question 3 Explore and cluster the neighborhoods
in
Toronto}\label{assignment-question-3-explore-and-cluster-the-neighborhoods-in-toronto}}

Explore and cluster the neighborhoods in Toronto. You can decide to work
with only boroughs that contain the word Toronto and then replicate the
same analysis we did to the New York City data. It is up to you.

Just make sure:

\begin{enumerate}
\def\labelenumi{\arabic{enumi}.}
\tightlist
\item
  to add enough Markdown cells to explain what you decided to do and to
  report any observations you make.
\item
  to generate maps to visualize your neighborhoods and how they cluster
  together.
\end{enumerate}

    \begin{tcolorbox}[breakable, size=fbox, boxrule=1pt, pad at break*=1mm,colback=cellbackground, colframe=cellborder]
\prompt{In}{incolor}{19}{\boxspacing}
\begin{Verbatim}[commandchars=\\\{\}]
\PY{n}{address} \PY{o}{=} \PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{Toronto, ON}\PY{l+s+s2}{\PYZdq{}}
\PY{n}{geolocator} \PY{o}{=} \PY{n}{Nominatim}\PY{p}{(}\PY{n}{user\PYZus{}agent}\PY{o}{=}\PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{toronto\PYZus{}explorer}\PY{l+s+s2}{\PYZdq{}}\PY{p}{)} \PY{c+c1}{\PYZsh{} Changed user agent due to collision}
\PY{n}{location} \PY{o}{=} \PY{n}{geolocator}\PY{o}{.}\PY{n}{geocode}\PY{p}{(}\PY{n}{address}\PY{p}{)}
\PY{n}{latitude} \PY{o}{=} \PY{n}{location}\PY{o}{.}\PY{n}{latitude}
\PY{n}{longitude} \PY{o}{=} \PY{n}{location}\PY{o}{.}\PY{n}{longitude}
\PY{n+nb}{print}\PY{p}{(}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{The geograpical coordinate of Toronto city are }\PY{l+s+si}{\PYZob{}\PYZcb{}}\PY{l+s+s1}{, }\PY{l+s+si}{\PYZob{}\PYZcb{}}\PY{l+s+s1}{.}\PY{l+s+s1}{\PYZsq{}}\PY{o}{.}\PY{n}{format}\PY{p}{(}\PY{n}{latitude}\PY{p}{,} \PY{n}{longitude}\PY{p}{)}\PY{p}{)}
\end{Verbatim}
\end{tcolorbox}

    \begin{Verbatim}[commandchars=\\\{\}]
The geograpical coordinate of Toronto city are 43.653963, -79.387207.
    \end{Verbatim}

    \hypertarget{create-a-map-of-the-whole-toronto-city-with-neighborhoods-superimposed-on-top}{%
\subsubsection{Create a map of the whole Toronto City with neighborhoods
superimposed on
top}\label{create-a-map-of-the-whole-toronto-city-with-neighborhoods-superimposed-on-top}}

    \begin{tcolorbox}[breakable, size=fbox, boxrule=1pt, pad at break*=1mm,colback=cellbackground, colframe=cellborder]
\prompt{In}{incolor}{20}{\boxspacing}
\begin{Verbatim}[commandchars=\\\{\}]
\PY{k+kn}{import} \PY{n+nn}{folium} \PY{c+c1}{\PYZsh{} map rendering library}

\PY{c+c1}{\PYZsh{} import k\PYZhy{}means from clustering stage}
\PY{k+kn}{from} \PY{n+nn}{sklearn}\PY{n+nn}{.}\PY{n+nn}{cluster} \PY{k+kn}{import} \PY{n}{KMeans}

\PY{c+c1}{\PYZsh{} Matplotlib and associated plotting modules}
\PY{k+kn}{import} \PY{n+nn}{matplotlib}\PY{n+nn}{.}\PY{n+nn}{cm} \PY{k}{as} \PY{n+nn}{cm}
\PY{k+kn}{import} \PY{n+nn}{matplotlib}\PY{n+nn}{.}\PY{n+nn}{colors} \PY{k}{as} \PY{n+nn}{colors}
\end{Verbatim}
\end{tcolorbox}

    \begin{tcolorbox}[breakable, size=fbox, boxrule=1pt, pad at break*=1mm,colback=cellbackground, colframe=cellborder]
\prompt{In}{incolor}{21}{\boxspacing}
\begin{Verbatim}[commandchars=\\\{\}]
\PY{c+c1}{\PYZsh{} create map of Toronto using latitude and longitude values}
\PY{n}{map\PYZus{}toronto} \PY{o}{=} \PY{n}{folium}\PY{o}{.}\PY{n}{Map}\PY{p}{(}\PY{n}{location}\PY{o}{=}\PY{p}{[}\PY{n}{latitude}\PY{p}{,} \PY{n}{longitude}\PY{p}{]}\PY{p}{,} \PY{n}{zoom\PYZus{}start}\PY{o}{=}\PY{l+m+mi}{10}\PY{p}{)}
\PY{n}{map\PYZus{}toronto}
\end{Verbatim}
\end{tcolorbox}

            \begin{tcolorbox}[breakable, size=fbox, boxrule=.5pt, pad at break*=1mm, opacityfill=0]
\prompt{Out}{outcolor}{21}{\boxspacing}
\begin{Verbatim}[commandchars=\\\{\}]
<folium.folium.Map at 0x25cb3559ef0>
\end{Verbatim}
\end{tcolorbox}
        
    \hypertarget{add-markers-to-the-map.}{%
\subsubsection{Add markers to the map.}\label{add-markers-to-the-map.}}

    \begin{tcolorbox}[breakable, size=fbox, boxrule=1pt, pad at break*=1mm,colback=cellbackground, colframe=cellborder]
\prompt{In}{incolor}{22}{\boxspacing}
\begin{Verbatim}[commandchars=\\\{\}]
\PY{k}{for} \PY{n}{lat}\PY{p}{,} \PY{n}{lng}\PY{p}{,} \PY{n}{borough}\PY{p}{,} \PY{n}{neighborhood} \PY{o+ow}{in} \PY{n+nb}{zip}\PY{p}{(}
        \PY{n}{df\PYZus{}toronto2}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Latitude}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{p}{,} 
        \PY{n}{df\PYZus{}toronto2}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Longitude}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{p}{,} 
        \PY{n}{df\PYZus{}toronto2}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Borough}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{p}{,} 
        \PY{n}{df\PYZus{}toronto2}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Neighborhood}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{p}{)}\PY{p}{:}
    \PY{n}{label} \PY{o}{=} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+si}{\PYZob{}\PYZcb{}}\PY{l+s+s1}{, }\PY{l+s+si}{\PYZob{}\PYZcb{}}\PY{l+s+s1}{\PYZsq{}}\PY{o}{.}\PY{n}{format}\PY{p}{(}\PY{n}{neighborhood}\PY{p}{,} \PY{n}{borough}\PY{p}{)}
    \PY{n}{label} \PY{o}{=} \PY{n}{folium}\PY{o}{.}\PY{n}{Popup}\PY{p}{(}\PY{n}{label}\PY{p}{,} \PY{n}{parse\PYZus{}html}\PY{o}{=}\PY{k+kc}{True}\PY{p}{)}
    \PY{n}{folium}\PY{o}{.}\PY{n}{CircleMarker}\PY{p}{(}
        \PY{p}{[}\PY{n}{lat}\PY{p}{,} \PY{n}{lng}\PY{p}{]}\PY{p}{,}
        \PY{n}{radius}\PY{o}{=}\PY{l+m+mi}{5}\PY{p}{,}
        \PY{n}{popup}\PY{o}{=}\PY{n}{label}\PY{p}{,}
        \PY{n}{color}\PY{o}{=}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{blue}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,}
        \PY{n}{fill}\PY{o}{=}\PY{k+kc}{True}\PY{p}{,}
        \PY{n}{fill\PYZus{}color}\PY{o}{=}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{\PYZsh{}3186cc}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,}
        \PY{n}{fill\PYZus{}opacity}\PY{o}{=}\PY{l+m+mf}{0.7}\PY{p}{,}
        \PY{n}{parse\PYZus{}html}\PY{o}{=}\PY{k+kc}{False}\PY{p}{)}\PY{o}{.}\PY{n}{add\PYZus{}to}\PY{p}{(}\PY{n}{map\PYZus{}toronto}\PY{p}{)}  

\PY{n}{map\PYZus{}toronto}
\end{Verbatim}
\end{tcolorbox}

            \begin{tcolorbox}[breakable, size=fbox, boxrule=.5pt, pad at break*=1mm, opacityfill=0]
\prompt{Out}{outcolor}{22}{\boxspacing}
\begin{Verbatim}[commandchars=\\\{\}]
<folium.folium.Map at 0x25cb3559ef0>
\end{Verbatim}
\end{tcolorbox}
        
    \hypertarget{map-of-a-part-of-toronto-city}{%
\subsubsection{Map of a part of Toronto
City}\label{map-of-a-part-of-toronto-city}}

We are going to work with only the boroughs that contain the word
``Toronto''.

    \begin{tcolorbox}[breakable, size=fbox, boxrule=1pt, pad at break*=1mm,colback=cellbackground, colframe=cellborder]
\prompt{In}{incolor}{23}{\boxspacing}
\begin{Verbatim}[commandchars=\\\{\}]
\PY{c+c1}{\PYZsh{} \PYZdq{}denc\PYZdq{} = [D]owntown Toronto, [E]ast Toronto, [N]orth Toronto, [C]entral Toronto}
\PY{n}{df\PYZus{}toronto\PYZus{}denc} \PY{o}{=} \PY{n}{df\PYZus{}toronto2}\PY{p}{[}\PY{n}{df\PYZus{}toronto}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Borough}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{o}{.}\PY{n}{str}\PY{o}{.}\PY{n}{contains}\PY{p}{(}\PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{Toronto}\PY{l+s+s2}{\PYZdq{}}\PY{p}{)}\PY{p}{]}\PY{o}{.}\PY{n}{reset\PYZus{}index}\PY{p}{(}\PY{n}{drop}\PY{o}{=}\PY{k+kc}{True}\PY{p}{)}
\PY{n}{df\PYZus{}toronto\PYZus{}denc}\PY{o}{.}\PY{n}{head}\PY{p}{(}\PY{p}{)}
\end{Verbatim}
\end{tcolorbox}

            \begin{tcolorbox}[breakable, size=fbox, boxrule=.5pt, pad at break*=1mm, opacityfill=0]
\prompt{Out}{outcolor}{23}{\boxspacing}
\begin{Verbatim}[commandchars=\\\{\}]
  PostalCode          Borough                    Neighborhood   Latitude  \textbackslash{}
0        M4E     East Toronto                     The Beaches  43.676357
1        M4K     East Toronto    The Danforth West, Riverdale  43.679557
2        M4L     East Toronto  The Beaches West, India Bazaar  43.668999
3        M4M     East Toronto                 Studio District  43.659526
4        M4N  Central Toronto                   Lawrence Park  43.728020

   Longitude
0 -79.293031
1 -79.352188
2 -79.315572
3 -79.340923
4 -79.388790
\end{Verbatim}
\end{tcolorbox}
        
    \hypertarget{new-marked-map}{%
\subsubsection{New marked map}\label{new-marked-map}}

    \begin{tcolorbox}[breakable, size=fbox, boxrule=1pt, pad at break*=1mm,colback=cellbackground, colframe=cellborder]
\prompt{In}{incolor}{24}{\boxspacing}
\begin{Verbatim}[commandchars=\\\{\}]
\PY{n}{map\PYZus{}toronto\PYZus{}denc} \PY{o}{=} \PY{n}{folium}\PY{o}{.}\PY{n}{Map}\PY{p}{(}\PY{n}{location}\PY{o}{=}\PY{p}{[}\PY{n}{latitude}\PY{p}{,} \PY{n}{longitude}\PY{p}{]}\PY{p}{,} \PY{n}{zoom\PYZus{}start}\PY{o}{=}\PY{l+m+mi}{12}\PY{p}{)}
\PY{k}{for} \PY{n}{lat}\PY{p}{,} \PY{n}{lng}\PY{p}{,} \PY{n}{borough}\PY{p}{,} \PY{n}{neighborhood} \PY{o+ow}{in} \PY{n+nb}{zip}\PY{p}{(}
        \PY{n}{df\PYZus{}toronto\PYZus{}denc}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Latitude}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{p}{,} 
        \PY{n}{df\PYZus{}toronto\PYZus{}denc}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Longitude}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{p}{,} 
        \PY{n}{df\PYZus{}toronto\PYZus{}denc}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Borough}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{p}{,} 
        \PY{n}{df\PYZus{}toronto\PYZus{}denc}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Neighborhood}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{p}{)}\PY{p}{:}
    \PY{n}{label} \PY{o}{=} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+si}{\PYZob{}\PYZcb{}}\PY{l+s+s1}{, }\PY{l+s+si}{\PYZob{}\PYZcb{}}\PY{l+s+s1}{\PYZsq{}}\PY{o}{.}\PY{n}{format}\PY{p}{(}\PY{n}{neighborhood}\PY{p}{,} \PY{n}{borough}\PY{p}{)}
    \PY{n}{label} \PY{o}{=} \PY{n}{folium}\PY{o}{.}\PY{n}{Popup}\PY{p}{(}\PY{n}{label}\PY{p}{,} \PY{n}{parse\PYZus{}html}\PY{o}{=}\PY{k+kc}{True}\PY{p}{)}
    \PY{n}{folium}\PY{o}{.}\PY{n}{CircleMarker}\PY{p}{(}
        \PY{p}{[}\PY{n}{lat}\PY{p}{,} \PY{n}{lng}\PY{p}{]}\PY{p}{,}
        \PY{n}{radius}\PY{o}{=}\PY{l+m+mi}{5}\PY{p}{,}
        \PY{n}{popup}\PY{o}{=}\PY{n}{label}\PY{p}{,}
        \PY{n}{color}\PY{o}{=}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{blue}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,}
        \PY{n}{fill}\PY{o}{=}\PY{k+kc}{True}\PY{p}{,}
        \PY{n}{fill\PYZus{}color}\PY{o}{=}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{\PYZsh{}3186cc}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,}
        \PY{n}{fill\PYZus{}opacity}\PY{o}{=}\PY{l+m+mf}{0.7}\PY{p}{,}
        \PY{n}{parse\PYZus{}html}\PY{o}{=}\PY{k+kc}{False}\PY{p}{)}\PY{o}{.}\PY{n}{add\PYZus{}to}\PY{p}{(}\PY{n}{map\PYZus{}toronto\PYZus{}denc}\PY{p}{)}  

\PY{n}{map\PYZus{}toronto\PYZus{}denc}
\end{Verbatim}
\end{tcolorbox}

            \begin{tcolorbox}[breakable, size=fbox, boxrule=.5pt, pad at break*=1mm, opacityfill=0]
\prompt{Out}{outcolor}{24}{\boxspacing}
\begin{Verbatim}[commandchars=\\\{\}]
<folium.folium.Map at 0x25cb400eb38>
\end{Verbatim}
\end{tcolorbox}
        
    \hypertarget{define-foursquare-credentials-and-version}{%
\subsubsection{Define Foursquare Credentials and
Version}\label{define-foursquare-credentials-and-version}}

On the public repository on Github, I has removed this field for the
privacy!

    \begin{tcolorbox}[breakable, size=fbox, boxrule=1pt, pad at break*=1mm,colback=cellbackground, colframe=cellborder]
\prompt{In}{incolor}{25}{\boxspacing}
\begin{Verbatim}[commandchars=\\\{\}]
\PY{n}{CLIENT\PYZus{}ID} \PY{o}{=} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{DDUUMMYYDDUUMMYYDDUUMMYYDDUUMMYYDDUUMMYY}\PY{l+s+s1}{\PYZsq{}} \PY{c+c1}{\PYZsh{} your Foursquare ID}
\PY{n}{CLIENT\PYZus{}SECRET} \PY{o}{=} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{DDUUMMYYDDUUMMYYDDUUMMYYDDUUMMYY}\PY{l+s+s1}{\PYZsq{}} \PY{c+c1}{\PYZsh{} your Foursquare Secret}
\PY{n}{VERSION} \PY{o}{=} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{12345678}\PY{l+s+s1}{\PYZsq{}}
\PY{n}{LIMIT} \PY{o}{=} \PY{l+m+mi}{30}
\PY{n+nb}{print}\PY{p}{(}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Your credentails:}\PY{l+s+s1}{\PYZsq{}}\PY{p}{)}
\PY{n+nb}{print}\PY{p}{(}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{CLIENT\PYZus{}ID: }\PY{l+s+s1}{\PYZsq{}} \PY{o}{+} \PY{n}{CLIENT\PYZus{}ID}\PY{p}{)}
\PY{n+nb}{print}\PY{p}{(}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{CLIENT\PYZus{}SECRET:}\PY{l+s+s1}{\PYZsq{}} \PY{o}{+} \PY{n}{CLIENT\PYZus{}SECRET}\PY{p}{)}
\end{Verbatim}
\end{tcolorbox}

    \begin{Verbatim}[commandchars=\\\{\}]
Your credentails:
CLIENT\_ID: DDUUMMYYDDUUMMYYDDUUMMYYDDUUMMYYDDUUMMYY
CLIENT\_SECRET:DDUUMMYYDDUUMMYYDDUUMMYYDDUUMMYY
    \end{Verbatim}

    \hypertarget{explore-the-first-neighborhood-in-our-data-frame-df_toronto_denc}{%
\subsubsection{Explore the first neighborhood in our data frame
``df\_toronto\_denc''}\label{explore-the-first-neighborhood-in-our-data-frame-df_toronto_denc}}

    \begin{tcolorbox}[breakable, size=fbox, boxrule=1pt, pad at break*=1mm,colback=cellbackground, colframe=cellborder]
\prompt{In}{incolor}{28}{\boxspacing}
\begin{Verbatim}[commandchars=\\\{\}]
\PY{n}{neighborhood\PYZus{}name} \PY{o}{=} \PY{n}{df\PYZus{}toronto\PYZus{}denc}\PY{o}{.}\PY{n}{loc}\PY{p}{[}\PY{l+m+mi}{0}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Neighborhood}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}
\PY{n+nb}{print}\PY{p}{(}\PY{l+s+sa}{f}\PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{The first neighborhood}\PY{l+s+s2}{\PYZsq{}}\PY{l+s+s2}{s name is }\PY{l+s+s2}{\PYZsq{}}\PY{l+s+si}{\PYZob{}neighborhood\PYZus{}name\PYZcb{}}\PY{l+s+s2}{\PYZsq{}}\PY{l+s+s2}{.}\PY{l+s+s2}{\PYZdq{}}\PY{p}{)}
\end{Verbatim}
\end{tcolorbox}

    \begin{Verbatim}[commandchars=\\\{\}]
The first neighborhood's name is 'The Beaches'.
    \end{Verbatim}

    \textbf{Get the neighborhood's latitude and longitude values.}

    \begin{tcolorbox}[breakable, size=fbox, boxrule=1pt, pad at break*=1mm,colback=cellbackground, colframe=cellborder]
\prompt{In}{incolor}{29}{\boxspacing}
\begin{Verbatim}[commandchars=\\\{\}]
\PY{n}{neighborhood\PYZus{}latitude} \PY{o}{=} \PY{n}{df\PYZus{}toronto\PYZus{}denc}\PY{o}{.}\PY{n}{loc}\PY{p}{[}\PY{l+m+mi}{0}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Latitude}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]} \PY{c+c1}{\PYZsh{} neighborhood latitude value}
\PY{n}{neighborhood\PYZus{}longitude} \PY{o}{=} \PY{n}{df\PYZus{}toronto\PYZus{}denc}\PY{o}{.}\PY{n}{loc}\PY{p}{[}\PY{l+m+mi}{0}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Longitude}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]} \PY{c+c1}{\PYZsh{} neighborhood longitude value}

\PY{n+nb}{print}\PY{p}{(}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Latitude and longitude values of }\PY{l+s+si}{\PYZob{}\PYZcb{}}\PY{l+s+s1}{ are }\PY{l+s+si}{\PYZob{}\PYZcb{}}\PY{l+s+s1}{, }\PY{l+s+si}{\PYZob{}\PYZcb{}}\PY{l+s+s1}{.}\PY{l+s+s1}{\PYZsq{}}\PY{o}{.}\PY{n}{format}\PY{p}{(}\PY{n}{neighborhood\PYZus{}name}\PY{p}{,} 
                                                               \PY{n}{neighborhood\PYZus{}latitude}\PY{p}{,} 
                                                               \PY{n}{neighborhood\PYZus{}longitude}\PY{p}{)}\PY{p}{)}
\end{Verbatim}
\end{tcolorbox}

    \begin{Verbatim}[commandchars=\\\{\}]
Latitude and longitude values of The Beaches are 43.67635739999999, -79.2930312.
    \end{Verbatim}

    \hypertarget{now-lets-get-the-top-100-venues-that-are-in-the-beaches-within-a-radius-of-500-meters.}{%
\subsubsection{Now, let's get the top 100 venues that are in The Beaches
within a radius of 500
meters.}\label{now-lets-get-the-top-100-venues-that-are-in-the-beaches-within-a-radius-of-500-meters.}}

    \begin{tcolorbox}[breakable, size=fbox, boxrule=1pt, pad at break*=1mm,colback=cellbackground, colframe=cellborder]
\prompt{In}{incolor}{31}{\boxspacing}
\begin{Verbatim}[commandchars=\\\{\}]
\PY{c+c1}{\PYZsh{}CLIENT\PYZus{}ID = \PYZsq{}DDUUMMYYDDUUMMYYDDUUMMYYDDUUMMYYDDUUMMYY\PYZsq{} \PYZsh{} your Foursquare ID}
\PY{c+c1}{\PYZsh{}CLIENT\PYZus{}SECRET = \PYZsq{}DDUUMMYYDDUUMMYYDDUUMMYYDDUUMMYY\PYZsq{} \PYZsh{} your Foursquare Secret}
\PY{c+c1}{\PYZsh{}VERSION = \PYZsq{}12345678\PYZsq{}}
\PY{n}{url} \PY{o}{=} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{https://api.foursquare.com/v2/venues/explore?\PYZam{}client\PYZus{}id=}\PY{l+s+si}{\PYZob{}\PYZcb{}}\PY{l+s+s1}{\PYZam{}client\PYZus{}secret=}\PY{l+s+si}{\PYZob{}\PYZcb{}}\PY{l+s+s1}{\PYZam{}v=}\PY{l+s+si}{\PYZob{}\PYZcb{}}\PY{l+s+s1}{\PYZam{}ll=}\PY{l+s+si}{\PYZob{}\PYZcb{}}\PY{l+s+s1}{,}\PY{l+s+si}{\PYZob{}\PYZcb{}}\PY{l+s+s1}{\PYZam{}radius=}\PY{l+s+si}{\PYZob{}\PYZcb{}}\PY{l+s+s1}{\PYZam{}limit=}\PY{l+s+si}{\PYZob{}\PYZcb{}}\PY{l+s+s1}{\PYZsq{}}\PY{o}{.}\PY{n}{format}\PY{p}{(}
    \PY{n}{CLIENT\PYZus{}ID}\PY{p}{,} 
    \PY{n}{CLIENT\PYZus{}SECRET}\PY{p}{,} 
    \PY{n}{VERSION}\PY{p}{,} 
    \PY{n}{neighborhood\PYZus{}latitude}\PY{p}{,} 
    \PY{n}{neighborhood\PYZus{}longitude}\PY{p}{,} 
    \PY{n}{radius}\PY{p}{,} 
    \PY{n}{LIMIT}\PY{p}{)}
\PY{c+c1}{\PYZsh{} get the result to a json file}
\PY{n}{results} \PY{o}{=} \PY{n}{requests}\PY{o}{.}\PY{n}{get}\PY{p}{(}\PY{n}{url}\PY{p}{)}\PY{o}{.}\PY{n}{json}\PY{p}{(}\PY{p}{)}
\end{Verbatim}
\end{tcolorbox}

    \textbf{Function that extracts the category of the venue}

    \begin{tcolorbox}[breakable, size=fbox, boxrule=1pt, pad at break*=1mm,colback=cellbackground, colframe=cellborder]
\prompt{In}{incolor}{32}{\boxspacing}
\begin{Verbatim}[commandchars=\\\{\}]
\PY{k}{def} \PY{n+nf}{get\PYZus{}category\PYZus{}type}\PY{p}{(}\PY{n}{row}\PY{p}{)}\PY{p}{:}
    \PY{k}{try}\PY{p}{:}
        \PY{n}{categories\PYZus{}list} \PY{o}{=} \PY{n}{row}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{categories}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}
    \PY{k}{except}\PY{p}{:}
        \PY{n}{categories\PYZus{}list} \PY{o}{=} \PY{n}{row}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{venue.categories}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}
        
    \PY{k}{if} \PY{n+nb}{len}\PY{p}{(}\PY{n}{categories\PYZus{}list}\PY{p}{)} \PY{o}{==} \PY{l+m+mi}{0}\PY{p}{:}
        \PY{k}{return} \PY{k+kc}{None}
    \PY{k}{else}\PY{p}{:}
        \PY{k}{return} \PY{n}{categories\PYZus{}list}\PY{p}{[}\PY{l+m+mi}{0}\PY{p}{]}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{name}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}
\end{Verbatim}
\end{tcolorbox}

    \textbf{\textbf{Now we are ready to clean the json and structure it into
a pandas dataframe.}}

    \begin{tcolorbox}[breakable, size=fbox, boxrule=1pt, pad at break*=1mm,colback=cellbackground, colframe=cellborder]
\prompt{In}{incolor}{33}{\boxspacing}
\begin{Verbatim}[commandchars=\\\{\}]
\PY{k+kn}{from} \PY{n+nn}{pandas}\PY{n+nn}{.}\PY{n+nn}{io}\PY{n+nn}{.}\PY{n+nn}{json} \PY{k+kn}{import} \PY{n}{json\PYZus{}normalize}  \PY{c+c1}{\PYZsh{} tranform JSON file into a pandas dataframe}
\PY{n}{venues} \PY{o}{=} \PY{n}{results}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{response}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{groups}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{p}{[}\PY{l+m+mi}{0}\PY{p}{]}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{items}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}
\PY{n}{nearby\PYZus{}venues} \PY{o}{=} \PY{n}{json\PYZus{}normalize}\PY{p}{(}\PY{n}{venues}\PY{p}{)} \PY{c+c1}{\PYZsh{} flatten JSON}

\PY{c+c1}{\PYZsh{} filter columns}
\PY{n}{filtered\PYZus{}columns} \PY{o}{=} \PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{venue.name}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{venue.categories}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{venue.location.lat}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{venue.location.lng}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}
\PY{n}{nearby\PYZus{}venues} \PY{o}{=}\PY{n}{nearby\PYZus{}venues}\PY{o}{.}\PY{n}{loc}\PY{p}{[}\PY{p}{:}\PY{p}{,} \PY{n}{filtered\PYZus{}columns}\PY{p}{]}

\PY{c+c1}{\PYZsh{} filter the category for each row}
\PY{n}{nearby\PYZus{}venues}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{venue.categories}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]} \PY{o}{=} \PY{n}{nearby\PYZus{}venues}\PY{o}{.}\PY{n}{apply}\PY{p}{(}\PY{n}{get\PYZus{}category\PYZus{}type}\PY{p}{,} \PY{n}{axis}\PY{o}{=}\PY{l+m+mi}{1}\PY{p}{)}

\PY{c+c1}{\PYZsh{} clean columns}
\PY{n}{nearby\PYZus{}venues}\PY{o}{.}\PY{n}{columns} \PY{o}{=} \PY{p}{[}\PY{n}{col}\PY{o}{.}\PY{n}{split}\PY{p}{(}\PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{.}\PY{l+s+s2}{\PYZdq{}}\PY{p}{)}\PY{p}{[}\PY{o}{\PYZhy{}}\PY{l+m+mi}{1}\PY{p}{]} \PY{k}{for} \PY{n}{col} \PY{o+ow}{in} \PY{n}{nearby\PYZus{}venues}\PY{o}{.}\PY{n}{columns}\PY{p}{]}

\PY{n}{nearby\PYZus{}venues}
\end{Verbatim}
\end{tcolorbox}

    \begin{Verbatim}[commandchars=\\\{\}]
C:\textbackslash{}ProgramData\textbackslash{}Anaconda3\textbackslash{}lib\textbackslash{}site-packages\textbackslash{}ipykernel\_launcher.py:3:
FutureWarning: pandas.io.json.json\_normalize is deprecated, use
pandas.json\_normalize instead
  This is separate from the ipykernel package so we can avoid doing imports
until
    \end{Verbatim}

            \begin{tcolorbox}[breakable, size=fbox, boxrule=.5pt, pad at break*=1mm, opacityfill=0]
\prompt{Out}{outcolor}{33}{\boxspacing}
\begin{Verbatim}[commandchars=\\\{\}]
                                 name         categories        lat        lng
0                   Glen Manor Ravine              Trail  43.676821 -79.293942
1  The Big Carrot Natural Food Market  Health Food Store  43.678879 -79.297734
2                 Grover Pub and Grub                Pub  43.679181 -79.297215
3                      Domino's Pizza        Pizza Place  43.679058 -79.297382
4                       Upper Beaches       Neighborhood  43.680563 -79.292869
\end{Verbatim}
\end{tcolorbox}
        
    \hypertarget{explore-neighborhoods-in-a-part-of-toronto-city}{%
\subsubsection{Explore neighborhoods in a part of Toronto
City}\label{explore-neighborhoods-in-a-part-of-toronto-city}}

We are working on the data frame df\_toronto\_denc. Recall that, this
region contain DENC of Toronto where,

``DENC'' = {[}D{]}owntown Toronto, {[}E{]}ast Toronto, {[}N{]}orth
Toronto, {[}C{]}entral Toronto

First, let's create a function to repeat the same process to all the
neighborhoods in DENC of Toronto.

    \begin{tcolorbox}[breakable, size=fbox, boxrule=1pt, pad at break*=1mm,colback=cellbackground, colframe=cellborder]
\prompt{In}{incolor}{36}{\boxspacing}
\begin{Verbatim}[commandchars=\\\{\}]
\PY{k}{def} \PY{n+nf}{getNearbyVenues}\PY{p}{(}\PY{n}{names}\PY{p}{,} \PY{n}{latitudes}\PY{p}{,} \PY{n}{longitudes}\PY{p}{,} \PY{n}{radius}\PY{o}{=}\PY{l+m+mi}{500}\PY{p}{)}\PY{p}{:}
    \PY{n}{venues\PYZus{}list}\PY{o}{=}\PY{p}{[}\PY{p}{]}
    
    \PY{k}{for} \PY{n}{name}\PY{p}{,} \PY{n}{lat}\PY{p}{,} \PY{n}{lng} \PY{o+ow}{in} \PY{n+nb}{zip}\PY{p}{(}\PY{n}{names}\PY{p}{,} \PY{n}{latitudes}\PY{p}{,} \PY{n}{longitudes}\PY{p}{)}\PY{p}{:}
        \PY{c+c1}{\PYZsh{} print(name)}
            
        \PY{c+c1}{\PYZsh{} create the API request URL}
        \PY{n}{url} \PY{o}{=} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{https://api.foursquare.com/v2/venues/explore?\PYZam{}client\PYZus{}id=}\PY{l+s+si}{\PYZob{}\PYZcb{}}\PY{l+s+s1}{\PYZam{}client\PYZus{}secret=}\PY{l+s+si}{\PYZob{}\PYZcb{}}\PY{l+s+s1}{\PYZam{}v=}\PY{l+s+si}{\PYZob{}\PYZcb{}}\PY{l+s+s1}{\PYZam{}ll=}\PY{l+s+si}{\PYZob{}\PYZcb{}}\PY{l+s+s1}{,}\PY{l+s+si}{\PYZob{}\PYZcb{}}\PY{l+s+s1}{\PYZam{}radius=}\PY{l+s+si}{\PYZob{}\PYZcb{}}\PY{l+s+s1}{\PYZam{}limit=}\PY{l+s+si}{\PYZob{}\PYZcb{}}\PY{l+s+s1}{\PYZsq{}}\PY{o}{.}\PY{n}{format}\PY{p}{(}
            \PY{n}{CLIENT\PYZus{}ID}\PY{p}{,} 
            \PY{n}{CLIENT\PYZus{}SECRET}\PY{p}{,} 
            \PY{n}{VERSION}\PY{p}{,} 
            \PY{n}{lat}\PY{p}{,} 
            \PY{n}{lng}\PY{p}{,} 
            \PY{n}{radius}\PY{p}{,} 
            \PY{n}{LIMIT}\PY{p}{)}
            
        \PY{c+c1}{\PYZsh{} make the GET request}
        \PY{n}{results} \PY{o}{=} \PY{n}{requests}\PY{o}{.}\PY{n}{get}\PY{p}{(}\PY{n}{url}\PY{p}{)}\PY{o}{.}\PY{n}{json}\PY{p}{(}\PY{p}{)}\PY{p}{[}\PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{response}\PY{l+s+s2}{\PYZdq{}}\PY{p}{]}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{groups}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{p}{[}\PY{l+m+mi}{0}\PY{p}{]}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{items}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}
        
        \PY{c+c1}{\PYZsh{} return only relevant information for each nearby venue}
        \PY{n}{venues\PYZus{}list}\PY{o}{.}\PY{n}{append}\PY{p}{(}\PY{p}{[}\PY{p}{(}
            \PY{n}{name}\PY{p}{,} 
            \PY{n}{lat}\PY{p}{,} 
            \PY{n}{lng}\PY{p}{,} 
            \PY{n}{v}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{venue}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{name}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{p}{,} 
            \PY{n}{v}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{venue}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{location}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{lat}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{p}{,} 
            \PY{n}{v}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{venue}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{location}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{lng}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{p}{,}  
            \PY{n}{v}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{venue}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{categories}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{p}{[}\PY{l+m+mi}{0}\PY{p}{]}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{name}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{p}{)} \PY{k}{for} \PY{n}{v} \PY{o+ow}{in} \PY{n}{results}\PY{p}{]}\PY{p}{)}

    \PY{n}{nearby\PYZus{}venues} \PY{o}{=} \PY{n}{pd}\PY{o}{.}\PY{n}{DataFrame}\PY{p}{(}\PY{p}{[}\PY{n}{item} \PY{k}{for} \PY{n}{venue\PYZus{}list} \PY{o+ow}{in} \PY{n}{venues\PYZus{}list} \PY{k}{for} \PY{n}{item} \PY{o+ow}{in} \PY{n}{venue\PYZus{}list}\PY{p}{]}\PY{p}{)}
    \PY{n}{nearby\PYZus{}venues}\PY{o}{.}\PY{n}{columns} \PY{o}{=} \PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Neighborhood}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} 
                  \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Neighborhood Latitude}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} 
                  \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Neighborhood Longitude}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} 
                  \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Venue}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} 
                  \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Venue Latitude}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} 
                  \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Venue Longitude}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} 
                  \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Venue Category}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}
    
    \PY{k}{return}\PY{p}{(}\PY{n}{nearby\PYZus{}venues}\PY{p}{)}
\end{Verbatim}
\end{tcolorbox}

    Now write the code to run the above function on each neighborhood and
create a new dataframe called toronto\_denc\_venues

    \begin{tcolorbox}[breakable, size=fbox, boxrule=1pt, pad at break*=1mm,colback=cellbackground, colframe=cellborder]
\prompt{In}{incolor}{35}{\boxspacing}
\begin{Verbatim}[commandchars=\\\{\}]
\PY{n}{toronto\PYZus{}denc\PYZus{}venues} \PY{o}{=} \PY{n}{getNearbyVenues}\PY{p}{(}\PY{n}{names}\PY{o}{=}\PY{n}{df\PYZus{}toronto\PYZus{}denc}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Neighborhood}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{p}{,}
                                   \PY{n}{latitudes}\PY{o}{=}\PY{n}{df\PYZus{}toronto\PYZus{}denc}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Latitude}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{p}{,}
                                   \PY{n}{longitudes}\PY{o}{=}\PY{n}{df\PYZus{}toronto\PYZus{}denc}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Longitude}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}
                                  \PY{p}{)}
\PY{n}{toronto\PYZus{}denc\PYZus{}venues}\PY{o}{.}\PY{n}{head}\PY{p}{(}\PY{p}{)}
\end{Verbatim}
\end{tcolorbox}

            \begin{tcolorbox}[breakable, size=fbox, boxrule=.5pt, pad at break*=1mm, opacityfill=0]
\prompt{Out}{outcolor}{35}{\boxspacing}
\begin{Verbatim}[commandchars=\\\{\}]
  Neighborhood  Neighborhood Latitude  Neighborhood Longitude  \textbackslash{}
0  The Beaches              43.676357              -79.293031
1  The Beaches              43.676357              -79.293031
2  The Beaches              43.676357              -79.293031
3  The Beaches              43.676357              -79.293031
4  The Beaches              43.676357              -79.293031

                                Venue  Venue Latitude  Venue Longitude  \textbackslash{}
0                   Glen Manor Ravine       43.676821       -79.293942
1  The Big Carrot Natural Food Market       43.678879       -79.297734
2                 Grover Pub and Grub       43.679181       -79.297215
3                      Domino's Pizza       43.679058       -79.297382
4                       Upper Beaches       43.680563       -79.292869

      Venue Category
0              Trail
1  Health Food Store
2                Pub
3        Pizza Place
4       Neighborhood
\end{Verbatim}
\end{tcolorbox}
        
    Let's check how many venues were returned for each neighborhood.

    \begin{tcolorbox}[breakable, size=fbox, boxrule=1pt, pad at break*=1mm,colback=cellbackground, colframe=cellborder]
\prompt{In}{incolor}{37}{\boxspacing}
\begin{Verbatim}[commandchars=\\\{\}]
\PY{n}{toronto\PYZus{}denc\PYZus{}venues}\PY{o}{.}\PY{n}{groupby}\PY{p}{(}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Neighborhood}\PY{l+s+s1}{\PYZsq{}}\PY{p}{)}\PY{o}{.}\PY{n}{count}\PY{p}{(}\PY{p}{)}
\end{Verbatim}
\end{tcolorbox}

            \begin{tcolorbox}[breakable, size=fbox, boxrule=.5pt, pad at break*=1mm, opacityfill=0]
\prompt{Out}{outcolor}{37}{\boxspacing}
\begin{Verbatim}[commandchars=\\\{\}]
                                                    Neighborhood Latitude  \textbackslash{}
Neighborhood
Adelaide, King, Richmond                                              100
Berczy Park                                                            57
Brockton, Exhibition Place, Parkdale Village                           22
Business Reply Mail Processing Centre 969 Eastern                      18
CN Tower, Bathurst Quay, Island airport, Harbou{\ldots}                     16
Cabbagetown, St. James Town                                            44
Central Bay Street                                                     79
Chinatown, Grange Park, Kensington Market                              87
Christie                                                               17
Church and Wellesley                                                   85
Commerce Court, Victoria Hotel                                        100
Davisville                                                             38
Davisville North                                                        9
Deer Park, Forest Hill SE, Rathnelly, South Hil{\ldots}                     15
Design Exchange, Toronto Dominion Centre                              100
Dovercourt Village, Dufferin                                           17
First Canadian Place, Underground city                                100
Forest Hill North, Forest Hill West                                     4
Harbord, University of Toronto                                         39
Harbourfront                                                           50
Harbourfront East, Toronto Islands, Union Station                     100
High Park, The Junction South                                          23
Lawrence Park                                                           3
Little Portugal, Trinity                                               57
Moore Park, Summerhill East                                             2
North Toronto West                                                     20
Parkdale, Roncesvalles                                                 15
Queen's Park                                                           41
Rosedale                                                                4
Roselawn                                                                3
Runnymede, Swansea                                                     38
Ryerson, Garden District                                              100
St. James Town                                                        100
Stn A PO Boxes 25 The Esplanade                                        95
Studio District                                                        43
The Annex, North Midtown, Yorkville                                    22
The Beaches                                                             5
The Beaches West, India Bazaar                                         19
The Danforth West, Riverdale                                           41

                                                    Neighborhood Longitude  \textbackslash{}
Neighborhood
Adelaide, King, Richmond                                               100
Berczy Park                                                             57
Brockton, Exhibition Place, Parkdale Village                            22
Business Reply Mail Processing Centre 969 Eastern                       18
CN Tower, Bathurst Quay, Island airport, Harbou{\ldots}                      16
Cabbagetown, St. James Town                                             44
Central Bay Street                                                      79
Chinatown, Grange Park, Kensington Market                               87
Christie                                                                17
Church and Wellesley                                                    85
Commerce Court, Victoria Hotel                                         100
Davisville                                                              38
Davisville North                                                         9
Deer Park, Forest Hill SE, Rathnelly, South Hil{\ldots}                      15
Design Exchange, Toronto Dominion Centre                               100
Dovercourt Village, Dufferin                                            17
First Canadian Place, Underground city                                 100
Forest Hill North, Forest Hill West                                      4
Harbord, University of Toronto                                          39
Harbourfront                                                            50
Harbourfront East, Toronto Islands, Union Station                      100
High Park, The Junction South                                           23
Lawrence Park                                                            3
Little Portugal, Trinity                                                57
Moore Park, Summerhill East                                              2
North Toronto West                                                      20
Parkdale, Roncesvalles                                                  15
Queen's Park                                                            41
Rosedale                                                                 4
Roselawn                                                                 3
Runnymede, Swansea                                                      38
Ryerson, Garden District                                               100
St. James Town                                                         100
Stn A PO Boxes 25 The Esplanade                                         95
Studio District                                                         43
The Annex, North Midtown, Yorkville                                     22
The Beaches                                                              5
The Beaches West, India Bazaar                                          19
The Danforth West, Riverdale                                            41

                                                    Venue  Venue Latitude  \textbackslash{}
Neighborhood
Adelaide, King, Richmond                              100             100
Berczy Park                                            57              57
Brockton, Exhibition Place, Parkdale Village           22              22
Business Reply Mail Processing Centre 969 Eastern      18              18
CN Tower, Bathurst Quay, Island airport, Harbou{\ldots}     16              16
Cabbagetown, St. James Town                            44              44
Central Bay Street                                     79              79
Chinatown, Grange Park, Kensington Market              87              87
Christie                                               17              17
Church and Wellesley                                   85              85
Commerce Court, Victoria Hotel                        100             100
Davisville                                             38              38
Davisville North                                        9               9
Deer Park, Forest Hill SE, Rathnelly, South Hil{\ldots}     15              15
Design Exchange, Toronto Dominion Centre              100             100
Dovercourt Village, Dufferin                           17              17
First Canadian Place, Underground city                100             100
Forest Hill North, Forest Hill West                     4               4
Harbord, University of Toronto                         39              39
Harbourfront                                           50              50
Harbourfront East, Toronto Islands, Union Station     100             100
High Park, The Junction South                          23              23
Lawrence Park                                           3               3
Little Portugal, Trinity                               57              57
Moore Park, Summerhill East                             2               2
North Toronto West                                     20              20
Parkdale, Roncesvalles                                 15              15
Queen's Park                                           41              41
Rosedale                                                4               4
Roselawn                                                3               3
Runnymede, Swansea                                     38              38
Ryerson, Garden District                              100             100
St. James Town                                        100             100
Stn A PO Boxes 25 The Esplanade                        95              95
Studio District                                        43              43
The Annex, North Midtown, Yorkville                    22              22
The Beaches                                             5               5
The Beaches West, India Bazaar                         19              19
The Danforth West, Riverdale                           41              41

                                                    Venue Longitude  \textbackslash{}
Neighborhood
Adelaide, King, Richmond                                        100
Berczy Park                                                      57
Brockton, Exhibition Place, Parkdale Village                     22
Business Reply Mail Processing Centre 969 Eastern                18
CN Tower, Bathurst Quay, Island airport, Harbou{\ldots}               16
Cabbagetown, St. James Town                                      44
Central Bay Street                                               79
Chinatown, Grange Park, Kensington Market                        87
Christie                                                         17
Church and Wellesley                                             85
Commerce Court, Victoria Hotel                                  100
Davisville                                                       38
Davisville North                                                  9
Deer Park, Forest Hill SE, Rathnelly, South Hil{\ldots}               15
Design Exchange, Toronto Dominion Centre                        100
Dovercourt Village, Dufferin                                     17
First Canadian Place, Underground city                          100
Forest Hill North, Forest Hill West                               4
Harbord, University of Toronto                                   39
Harbourfront                                                     50
Harbourfront East, Toronto Islands, Union Station               100
High Park, The Junction South                                    23
Lawrence Park                                                     3
Little Portugal, Trinity                                         57
Moore Park, Summerhill East                                       2
North Toronto West                                               20
Parkdale, Roncesvalles                                           15
Queen's Park                                                     41
Rosedale                                                          4
Roselawn                                                          3
Runnymede, Swansea                                               38
Ryerson, Garden District                                        100
St. James Town                                                  100
Stn A PO Boxes 25 The Esplanade                                  95
Studio District                                                  43
The Annex, North Midtown, Yorkville                              22
The Beaches                                                       5
The Beaches West, India Bazaar                                   19
The Danforth West, Riverdale                                     41

                                                    Venue Category
Neighborhood
Adelaide, King, Richmond                                       100
Berczy Park                                                     57
Brockton, Exhibition Place, Parkdale Village                    22
Business Reply Mail Processing Centre 969 Eastern               18
CN Tower, Bathurst Quay, Island airport, Harbou{\ldots}              16
Cabbagetown, St. James Town                                     44
Central Bay Street                                              79
Chinatown, Grange Park, Kensington Market                       87
Christie                                                        17
Church and Wellesley                                            85
Commerce Court, Victoria Hotel                                 100
Davisville                                                      38
Davisville North                                                 9
Deer Park, Forest Hill SE, Rathnelly, South Hil{\ldots}              15
Design Exchange, Toronto Dominion Centre                       100
Dovercourt Village, Dufferin                                    17
First Canadian Place, Underground city                         100
Forest Hill North, Forest Hill West                              4
Harbord, University of Toronto                                  39
Harbourfront                                                    50
Harbourfront East, Toronto Islands, Union Station              100
High Park, The Junction South                                   23
Lawrence Park                                                    3
Little Portugal, Trinity                                        57
Moore Park, Summerhill East                                      2
North Toronto West                                              20
Parkdale, Roncesvalles                                          15
Queen's Park                                                    41
Rosedale                                                         4
Roselawn                                                         3
Runnymede, Swansea                                              38
Ryerson, Garden District                                       100
St. James Town                                                 100
Stn A PO Boxes 25 The Esplanade                                 95
Studio District                                                 43
The Annex, North Midtown, Yorkville                             22
The Beaches                                                      5
The Beaches West, India Bazaar                                  19
The Danforth West, Riverdale                                    41
\end{Verbatim}
\end{tcolorbox}
        
    \textbf{Let's find out how many unique categories can be curated from
all the returned venues}

    \begin{tcolorbox}[breakable, size=fbox, boxrule=1pt, pad at break*=1mm,colback=cellbackground, colframe=cellborder]
\prompt{In}{incolor}{38}{\boxspacing}
\begin{Verbatim}[commandchars=\\\{\}]
\PY{n+nb}{print}\PY{p}{(}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{There are }\PY{l+s+si}{\PYZob{}\PYZcb{}}\PY{l+s+s1}{ uniques categories.}\PY{l+s+s1}{\PYZsq{}}\PY{o}{.}\PY{n}{format}\PY{p}{(}\PY{n+nb}{len}\PY{p}{(}\PY{n}{toronto\PYZus{}denc\PYZus{}venues}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Venue Category}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{o}{.}\PY{n}{unique}\PY{p}{(}\PY{p}{)}\PY{p}{)}\PY{p}{)}\PY{p}{)}
\end{Verbatim}
\end{tcolorbox}

    \begin{Verbatim}[commandchars=\\\{\}]
There are 236 uniques categories.
    \end{Verbatim}

    \hypertarget{analyze-each-neighborhood}{%
\subsubsection{Analyze Each
Neighborhood}\label{analyze-each-neighborhood}}

    \begin{tcolorbox}[breakable, size=fbox, boxrule=1pt, pad at break*=1mm,colback=cellbackground, colframe=cellborder]
\prompt{In}{incolor}{39}{\boxspacing}
\begin{Verbatim}[commandchars=\\\{\}]
\PY{c+c1}{\PYZsh{} one hot encoding}
\PY{n}{toronto\PYZus{}denc\PYZus{}onehot} \PY{o}{=} \PY{n}{pd}\PY{o}{.}\PY{n}{get\PYZus{}dummies}\PY{p}{(}\PY{n}{toronto\PYZus{}denc\PYZus{}venues}\PY{p}{[}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Venue Category}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{p}{]}\PY{p}{,} \PY{n}{prefix}\PY{o}{=}\PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{\PYZdq{}}\PY{p}{,} \PY{n}{prefix\PYZus{}sep}\PY{o}{=}\PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{\PYZdq{}}\PY{p}{)}

\PY{c+c1}{\PYZsh{} add neighborhood column back to dataframe}
\PY{n}{toronto\PYZus{}denc\PYZus{}onehot}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Neighborhood}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]} \PY{o}{=} \PY{n}{toronto\PYZus{}denc\PYZus{}venues}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Neighborhood}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]} 

\PY{c+c1}{\PYZsh{} move neighborhood column to the first column}
\PY{n}{fixed\PYZus{}columns} \PY{o}{=} \PY{p}{[}\PY{n}{toronto\PYZus{}denc\PYZus{}onehot}\PY{o}{.}\PY{n}{columns}\PY{p}{[}\PY{o}{\PYZhy{}}\PY{l+m+mi}{1}\PY{p}{]}\PY{p}{]} \PY{o}{+} \PY{n+nb}{list}\PY{p}{(}\PY{n}{toronto\PYZus{}denc\PYZus{}onehot}\PY{o}{.}\PY{n}{columns}\PY{p}{[}\PY{p}{:}\PY{o}{\PYZhy{}}\PY{l+m+mi}{1}\PY{p}{]}\PY{p}{)}
\PY{n}{toronto\PYZus{}denc\PYZus{}onehot} \PY{o}{=} \PY{n}{toronto\PYZus{}denc\PYZus{}onehot}\PY{p}{[}\PY{n}{fixed\PYZus{}columns}\PY{p}{]}

\PY{n}{toronto\PYZus{}denc\PYZus{}onehot}\PY{o}{.}\PY{n}{head}\PY{p}{(}\PY{p}{)}
\end{Verbatim}
\end{tcolorbox}

            \begin{tcolorbox}[breakable, size=fbox, boxrule=.5pt, pad at break*=1mm, opacityfill=0]
\prompt{Out}{outcolor}{39}{\boxspacing}
\begin{Verbatim}[commandchars=\\\{\}]
   Yoga Studio  Afghan Restaurant  Airport  Airport Food Court  Airport Gate  \textbackslash{}
0            0                  0        0                   0             0
1            0                  0        0                   0             0
2            0                  0        0                   0             0
3            0                  0        0                   0             0
4            0                  0        0                   0             0

   Airport Lounge  Airport Service  Airport Terminal  American Restaurant  \textbackslash{}
0               0                0                 0                    0
1               0                0                 0                    0
2               0                0                 0                    0
3               0                0                 0                    0
4               0                0                 0                    0

   Antique Shop  {\ldots}  Toy / Game Store  Trail  Train Station  \textbackslash{}
0             0  {\ldots}                 0      1              0
1             0  {\ldots}                 0      0              0
2             0  {\ldots}                 0      0              0
3             0  {\ldots}                 0      0              0
4             0  {\ldots}                 0      0              0

   Vegetarian / Vegan Restaurant  Video Game Store  Vietnamese Restaurant  \textbackslash{}
0                              0                 0                      0
1                              0                 0                      0
2                              0                 0                      0
3                              0                 0                      0
4                              0                 0                      0

   Wine Bar  Wine Shop  Wings Joint  Women's Store
0         0          0            0              0
1         0          0            0              0
2         0          0            0              0
3         0          0            0              0
4         0          0            0              0

[5 rows x 236 columns]
\end{Verbatim}
\end{tcolorbox}
        
    \textbf{Now, let's group rows by neighborhood and by taking the mean of
the frequency of occurrence of each category}

    \begin{tcolorbox}[breakable, size=fbox, boxrule=1pt, pad at break*=1mm,colback=cellbackground, colframe=cellborder]
\prompt{In}{incolor}{40}{\boxspacing}
\begin{Verbatim}[commandchars=\\\{\}]
\PY{n}{toronto\PYZus{}denc\PYZus{}grouped} \PY{o}{=} \PY{n}{toronto\PYZus{}denc\PYZus{}onehot}\PY{o}{.}\PY{n}{groupby}\PY{p}{(}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Neighborhood}\PY{l+s+s1}{\PYZsq{}}\PY{p}{)}\PY{o}{.}\PY{n}{mean}\PY{p}{(}\PY{p}{)}\PY{o}{.}\PY{n}{reset\PYZus{}index}\PY{p}{(}\PY{p}{)}
\PY{n}{toronto\PYZus{}denc\PYZus{}grouped}\PY{o}{.}\PY{n}{head}\PY{p}{(}\PY{p}{)}
\end{Verbatim}
\end{tcolorbox}

            \begin{tcolorbox}[breakable, size=fbox, boxrule=.5pt, pad at break*=1mm, opacityfill=0]
\prompt{Out}{outcolor}{40}{\boxspacing}
\begin{Verbatim}[commandchars=\\\{\}]
                                        Neighborhood  Yoga Studio  \textbackslash{}
0                           Adelaide, King, Richmond     0.000000
1                                        Berczy Park     0.000000
2       Brockton, Exhibition Place, Parkdale Village     0.000000
3  Business Reply Mail Processing Centre 969 Eastern     0.055556
4  CN Tower, Bathurst Quay, Island airport, Harbo{\ldots}     0.000000

   Afghan Restaurant  Airport  Airport Food Court  Airport Gate  \textbackslash{}
0                0.0   0.0000              0.0000        0.0000
1                0.0   0.0000              0.0000        0.0000
2                0.0   0.0000              0.0000        0.0000
3                0.0   0.0000              0.0000        0.0000
4                0.0   0.0625              0.0625        0.0625

   Airport Lounge  Airport Service  Airport Terminal  American Restaurant  \textbackslash{}
0           0.000           0.0000             0.000                 0.02
1           0.000           0.0000             0.000                 0.00
2           0.000           0.0000             0.000                 0.00
3           0.000           0.0000             0.000                 0.00
4           0.125           0.1875             0.125                 0.00

   {\ldots}  Toy / Game Store  Trail  Train Station  Vegetarian / Vegan Restaurant  \textbackslash{}
0  {\ldots}               0.0    0.0            0.0                       0.020000
1  {\ldots}               0.0    0.0            0.0                       0.017544
2  {\ldots}               0.0    0.0            0.0                       0.000000
3  {\ldots}               0.0    0.0            0.0                       0.000000
4  {\ldots}               0.0    0.0            0.0                       0.000000

   Video Game Store  Vietnamese Restaurant  Wine Bar  Wine Shop  Wings Joint  \textbackslash{}
0               0.0                    0.0      0.01        0.0          0.0
1               0.0                    0.0      0.00        0.0          0.0
2               0.0                    0.0      0.00        0.0          0.0
3               0.0                    0.0      0.00        0.0          0.0
4               0.0                    0.0      0.00        0.0          0.0

   Women's Store
0           0.01
1           0.00
2           0.00
3           0.00
4           0.00

[5 rows x 236 columns]
\end{Verbatim}
\end{tcolorbox}
        
    \textbf{Check the 10 most common venues in each neighborhood.}

    \begin{tcolorbox}[breakable, size=fbox, boxrule=1pt, pad at break*=1mm,colback=cellbackground, colframe=cellborder]
\prompt{In}{incolor}{41}{\boxspacing}
\begin{Verbatim}[commandchars=\\\{\}]
\PY{k}{def} \PY{n+nf}{return\PYZus{}most\PYZus{}common\PYZus{}venues}\PY{p}{(}\PY{n}{row}\PY{p}{,} \PY{n}{num\PYZus{}top\PYZus{}venues}\PY{p}{)}\PY{p}{:}
    \PY{n}{row\PYZus{}categories} \PY{o}{=} \PY{n}{row}\PY{o}{.}\PY{n}{iloc}\PY{p}{[}\PY{l+m+mi}{1}\PY{p}{:}\PY{p}{]}
    \PY{n}{row\PYZus{}categories\PYZus{}sorted} \PY{o}{=} \PY{n}{row\PYZus{}categories}\PY{o}{.}\PY{n}{sort\PYZus{}values}\PY{p}{(}\PY{n}{ascending}\PY{o}{=}\PY{k+kc}{False}\PY{p}{)}
    \PY{k}{return} \PY{n}{row\PYZus{}categories\PYZus{}sorted}\PY{o}{.}\PY{n}{index}\PY{o}{.}\PY{n}{values}\PY{p}{[}\PY{l+m+mi}{0}\PY{p}{:}\PY{n}{num\PYZus{}top\PYZus{}venues}\PY{p}{]}

\PY{n}{num\PYZus{}top\PYZus{}venues} \PY{o}{=} \PY{l+m+mi}{10}

\PY{n}{indicators} \PY{o}{=} \PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{st}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{nd}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{rd}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}

\PY{c+c1}{\PYZsh{} create columns according to number of top venues}
\PY{n}{columns} \PY{o}{=} \PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Neighborhood}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}
\PY{k}{for} \PY{n}{ind} \PY{o+ow}{in} \PY{n}{np}\PY{o}{.}\PY{n}{arange}\PY{p}{(}\PY{n}{num\PYZus{}top\PYZus{}venues}\PY{p}{)}\PY{p}{:}
    \PY{k}{try}\PY{p}{:}
        \PY{n}{columns}\PY{o}{.}\PY{n}{append}\PY{p}{(}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+si}{\PYZob{}\PYZcb{}}\PY{l+s+si}{\PYZob{}\PYZcb{}}\PY{l+s+s1}{ Most Common Venue}\PY{l+s+s1}{\PYZsq{}}\PY{o}{.}\PY{n}{format}\PY{p}{(}\PY{n}{ind}\PY{o}{+}\PY{l+m+mi}{1}\PY{p}{,} \PY{n}{indicators}\PY{p}{[}\PY{n}{ind}\PY{p}{]}\PY{p}{)}\PY{p}{)}
    \PY{k}{except}\PY{p}{:}
        \PY{n}{columns}\PY{o}{.}\PY{n}{append}\PY{p}{(}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+si}{\PYZob{}\PYZcb{}}\PY{l+s+s1}{th Most Common Venue}\PY{l+s+s1}{\PYZsq{}}\PY{o}{.}\PY{n}{format}\PY{p}{(}\PY{n}{ind}\PY{o}{+}\PY{l+m+mi}{1}\PY{p}{)}\PY{p}{)}

\PY{c+c1}{\PYZsh{} create a new dataframe}
\PY{n}{neighborhoods\PYZus{}venues\PYZus{}sorted} \PY{o}{=} \PY{n}{pd}\PY{o}{.}\PY{n}{DataFrame}\PY{p}{(}\PY{n}{columns}\PY{o}{=}\PY{n}{columns}\PY{p}{)}
\PY{n}{neighborhoods\PYZus{}venues\PYZus{}sorted}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Neighborhood}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]} \PY{o}{=} \PY{n}{toronto\PYZus{}denc\PYZus{}grouped}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Neighborhood}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}

\PY{k}{for} \PY{n}{ind} \PY{o+ow}{in} \PY{n}{np}\PY{o}{.}\PY{n}{arange}\PY{p}{(}\PY{n}{toronto\PYZus{}denc\PYZus{}grouped}\PY{o}{.}\PY{n}{shape}\PY{p}{[}\PY{l+m+mi}{0}\PY{p}{]}\PY{p}{)}\PY{p}{:}
    \PY{n}{neighborhoods\PYZus{}venues\PYZus{}sorted}\PY{o}{.}\PY{n}{iloc}\PY{p}{[}\PY{n}{ind}\PY{p}{,} \PY{l+m+mi}{1}\PY{p}{:}\PY{p}{]} \PY{o}{=} \PY{n}{return\PYZus{}most\PYZus{}common\PYZus{}venues}\PY{p}{(}\PY{n}{toronto\PYZus{}denc\PYZus{}grouped}\PY{o}{.}\PY{n}{iloc}\PY{p}{[}\PY{n}{ind}\PY{p}{,} \PY{p}{:}\PY{p}{]}\PY{p}{,} \PY{n}{num\PYZus{}top\PYZus{}venues}\PY{p}{)}

\PY{n}{neighborhoods\PYZus{}venues\PYZus{}sorted}\PY{o}{.}\PY{n}{head}\PY{p}{(}\PY{p}{)}
\end{Verbatim}
\end{tcolorbox}

            \begin{tcolorbox}[breakable, size=fbox, boxrule=.5pt, pad at break*=1mm, opacityfill=0]
\prompt{Out}{outcolor}{41}{\boxspacing}
\begin{Verbatim}[commandchars=\\\{\}]
                                        Neighborhood 1st Most Common Venue  \textbackslash{}
0                           Adelaide, King, Richmond           Coffee Shop
1                                        Berczy Park           Coffee Shop
2       Brockton, Exhibition Place, Parkdale Village        Breakfast Spot
3  Business Reply Mail Processing Centre 969 Eastern           Yoga Studio
4  CN Tower, Bathurst Quay, Island airport, Harbo{\ldots}       Airport Service

  2nd Most Common Venue 3rd Most Common Venue 4th Most Common Venue  \textbackslash{}
0       Thai Restaurant            Restaurant                   Bar
1    Seafood Restaurant     French Restaurant        Farmers Market
2                  Café           Coffee Shop                   Gym
3         Auto Workshop                  Park           Pizza Place
4      Airport Terminal        Airport Lounge              Boutique

  5th Most Common Venue 6th Most Common Venue 7th Most Common Venue  \textbackslash{}
0                  Café            Steakhouse      Sushi Restaurant
1                Bakery            Restaurant           Cheese Shop
2                Bakery               Stadium         Burrito Place
3            Restaurant               Butcher         Burrito Place
4   Rental Car Location         Boat or Ferry       Harbor / Marina

  8th Most Common Venue 9th Most Common Venue 10th Most Common Venue
0    Seafood Restaurant             Gastropub         Cosmetics Shop
1                  Café          Cocktail Bar               Beer Bar
2            Restaurant          Climbing Gym              Pet Store
3               Brewery            Skate Park             Smoke Shop
4      Sculpture Garden                   Bar           Airport Gate
\end{Verbatim}
\end{tcolorbox}
        
    \hypertarget{cluster-neighborhoods}{%
\subsubsection{Cluster neighborhoods}\label{cluster-neighborhoods}}

Run k-means to cluster the neighborhood into 5 clusters.

    \begin{tcolorbox}[breakable, size=fbox, boxrule=1pt, pad at break*=1mm,colback=cellbackground, colframe=cellborder]
\prompt{In}{incolor}{42}{\boxspacing}
\begin{Verbatim}[commandchars=\\\{\}]
\PY{c+c1}{\PYZsh{} set number of clusters to 5}
\PY{n}{kclusters} \PY{o}{=} \PY{l+m+mi}{5}

\PY{n}{toronto\PYZus{}denc\PYZus{}grouped\PYZus{}clustering} \PY{o}{=} \PY{n}{toronto\PYZus{}denc\PYZus{}grouped}\PY{o}{.}\PY{n}{drop}\PY{p}{(}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Neighborhood}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{l+m+mi}{1}\PY{p}{)}

\PY{c+c1}{\PYZsh{} run k\PYZhy{}means clustering}
\PY{n}{kmeans} \PY{o}{=} \PY{n}{KMeans}\PY{p}{(}\PY{n}{n\PYZus{}clusters}\PY{o}{=}\PY{n}{kclusters}\PY{p}{,} \PY{n}{random\PYZus{}state}\PY{o}{=}\PY{l+m+mi}{0}\PY{p}{)}\PY{o}{.}\PY{n}{fit}\PY{p}{(}\PY{n}{toronto\PYZus{}denc\PYZus{}grouped\PYZus{}clustering}\PY{p}{)}

\PY{c+c1}{\PYZsh{} check cluster labels generated for each row in the dataframe}
\PY{n}{kmeans}\PY{o}{.}\PY{n}{labels\PYZus{}}\PY{p}{[}\PY{l+m+mi}{0}\PY{p}{:}\PY{l+m+mi}{10}\PY{p}{]} 
\end{Verbatim}
\end{tcolorbox}

            \begin{tcolorbox}[breakable, size=fbox, boxrule=.5pt, pad at break*=1mm, opacityfill=0]
\prompt{Out}{outcolor}{42}{\boxspacing}
\begin{Verbatim}[commandchars=\\\{\}]
array([1, 1, 1, 1, 1, 1, 1, 1, 1, 1])
\end{Verbatim}
\end{tcolorbox}
        
    \textbf{Let's create a new dataframe that includes the cluster as well
as the top 10 venues for each neighborhood}

    \begin{tcolorbox}[breakable, size=fbox, boxrule=1pt, pad at break*=1mm,colback=cellbackground, colframe=cellborder]
\prompt{In}{incolor}{43}{\boxspacing}
\begin{Verbatim}[commandchars=\\\{\}]
\PY{c+c1}{\PYZsh{} add clustering labels}
\PY{n}{neighborhoods\PYZus{}venues\PYZus{}sorted}\PY{o}{.}\PY{n}{insert}\PY{p}{(}\PY{l+m+mi}{0}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Cluster Labels}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{n}{kmeans}\PY{o}{.}\PY{n}{labels\PYZus{}}\PY{p}{)}

\PY{n}{toronto\PYZus{}denc\PYZus{}merged} \PY{o}{=} \PY{n}{df\PYZus{}toronto\PYZus{}denc}

\PY{c+c1}{\PYZsh{} merge toronto\PYZus{}grouped with toronto\PYZus{}data to add latitude/longitude for each neighborhood}
\PY{n}{toronto\PYZus{}denc\PYZus{}merged} \PY{o}{=} \PY{n}{toronto\PYZus{}denc\PYZus{}merged}\PY{o}{.}\PY{n}{join}\PY{p}{(}\PY{n}{neighborhoods\PYZus{}venues\PYZus{}sorted}\PY{o}{.}\PY{n}{set\PYZus{}index}\PY{p}{(}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Neighborhood}\PY{l+s+s1}{\PYZsq{}}\PY{p}{)}\PY{p}{,} \PY{n}{on}\PY{o}{=}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Neighborhood}\PY{l+s+s1}{\PYZsq{}}\PY{p}{)}

\PY{n}{toronto\PYZus{}denc\PYZus{}merged}\PY{o}{.}\PY{n}{head}\PY{p}{(}\PY{p}{)} \PY{c+c1}{\PYZsh{} check the last columns!}
\end{Verbatim}
\end{tcolorbox}

            \begin{tcolorbox}[breakable, size=fbox, boxrule=.5pt, pad at break*=1mm, opacityfill=0]
\prompt{Out}{outcolor}{43}{\boxspacing}
\begin{Verbatim}[commandchars=\\\{\}]
  PostalCode          Borough                    Neighborhood   Latitude  \textbackslash{}
0        M4E     East Toronto                     The Beaches  43.676357
1        M4K     East Toronto    The Danforth West, Riverdale  43.679557
2        M4L     East Toronto  The Beaches West, India Bazaar  43.668999
3        M4M     East Toronto                 Studio District  43.659526
4        M4N  Central Toronto                   Lawrence Park  43.728020

   Longitude  Cluster Labels 1st Most Common Venue 2nd Most Common Venue  \textbackslash{}
0 -79.293031               2                 Trail           Pizza Place
1 -79.352188               1      Greek Restaurant           Coffee Shop
2 -79.315572               2        Sandwich Place                  Park
3 -79.340923               1                  Café           Coffee Shop
4 -79.388790               2                  Park              Bus Line

  3rd Most Common Venue 4th Most Common Venue 5th Most Common Venue  \textbackslash{}
0     Health Food Store                   Pub               Dog Run
1    Italian Restaurant        Ice Cream Shop             Bookstore
2                   Gym                   Pub         Burrito Place
3             Gastropub                Bakery               Brewery
4           Swim School         Women's Store    Dim Sum Restaurant

    6th Most Common Venue 7th Most Common Venue        8th Most Common Venue  \textbackslash{}
0      Dim Sum Restaurant                 Diner               Discount Store
1  Furniture / Home Store                Lounge                          Spa
2    Fast Food Restaurant    Italian Restaurant            Fish \& Chips Shop
3      Italian Restaurant   American Restaurant                  Yoga Studio
4    Ethiopian Restaurant     Electronics Store  Eastern European Restaurant

     9th Most Common Venue 10th Most Common Venue
0      Distribution Center          Women's Store
1                  Brewery        Bubble Tea Shop
2               Steakhouse       Sushi Restaurant
3  Comfort Food Restaurant     Seafood Restaurant
4      Dumpling Restaurant             Donut Shop
\end{Verbatim}
\end{tcolorbox}
        
    \begin{tcolorbox}[breakable, size=fbox, boxrule=1pt, pad at break*=1mm,colback=cellbackground, colframe=cellborder]
\prompt{In}{incolor}{44}{\boxspacing}
\begin{Verbatim}[commandchars=\\\{\}]
\PY{c+c1}{\PYZsh{} create map}
\PY{n}{map\PYZus{}clusters} \PY{o}{=} \PY{n}{folium}\PY{o}{.}\PY{n}{Map}\PY{p}{(}\PY{n}{location}\PY{o}{=}\PY{p}{[}\PY{n}{latitude}\PY{p}{,} \PY{n}{longitude}\PY{p}{]}\PY{p}{,} \PY{n}{zoom\PYZus{}start}\PY{o}{=}\PY{l+m+mi}{11}\PY{p}{)}

\PY{c+c1}{\PYZsh{} set color scheme for the clusters}
\PY{n}{x} \PY{o}{=} \PY{n}{np}\PY{o}{.}\PY{n}{arange}\PY{p}{(}\PY{n}{kclusters}\PY{p}{)}
\PY{n}{ys} \PY{o}{=} \PY{p}{[}\PY{n}{i} \PY{o}{+} \PY{n}{x} \PY{o}{+} \PY{p}{(}\PY{n}{i}\PY{o}{*}\PY{n}{x}\PY{p}{)}\PY{o}{*}\PY{o}{*}\PY{l+m+mi}{2} \PY{k}{for} \PY{n}{i} \PY{o+ow}{in} \PY{n+nb}{range}\PY{p}{(}\PY{n}{kclusters}\PY{p}{)}\PY{p}{]}
\PY{n}{colors\PYZus{}array} \PY{o}{=} \PY{n}{cm}\PY{o}{.}\PY{n}{rainbow}\PY{p}{(}\PY{n}{np}\PY{o}{.}\PY{n}{linspace}\PY{p}{(}\PY{l+m+mi}{0}\PY{p}{,} \PY{l+m+mi}{1}\PY{p}{,} \PY{n+nb}{len}\PY{p}{(}\PY{n}{ys}\PY{p}{)}\PY{p}{)}\PY{p}{)}
\PY{n}{rainbow} \PY{o}{=} \PY{p}{[}\PY{n}{colors}\PY{o}{.}\PY{n}{rgb2hex}\PY{p}{(}\PY{n}{i}\PY{p}{)} \PY{k}{for} \PY{n}{i} \PY{o+ow}{in} \PY{n}{colors\PYZus{}array}\PY{p}{]}

\PY{c+c1}{\PYZsh{} add markers to the map}
\PY{n}{markers\PYZus{}colors} \PY{o}{=} \PY{p}{[}\PY{p}{]}
\PY{k}{for} \PY{n}{lat}\PY{p}{,} \PY{n}{lon}\PY{p}{,} \PY{n}{poi}\PY{p}{,} \PY{n}{cluster} \PY{o+ow}{in} \PY{n+nb}{zip}\PY{p}{(}
        \PY{n}{toronto\PYZus{}denc\PYZus{}merged}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Latitude}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{p}{,} 
        \PY{n}{toronto\PYZus{}denc\PYZus{}merged}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Longitude}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{p}{,} 
        \PY{n}{toronto\PYZus{}denc\PYZus{}merged}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Neighborhood}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{p}{,} 
        \PY{n}{toronto\PYZus{}denc\PYZus{}merged}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Cluster Labels}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{p}{)}\PY{p}{:}
    \PY{n}{label} \PY{o}{=} \PY{n}{folium}\PY{o}{.}\PY{n}{Popup}\PY{p}{(}\PY{n+nb}{str}\PY{p}{(}\PY{n}{poi}\PY{p}{)} \PY{o}{+} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{ Cluster }\PY{l+s+s1}{\PYZsq{}} \PY{o}{+} \PY{n+nb}{str}\PY{p}{(}\PY{n}{cluster}\PY{p}{)}\PY{p}{,} \PY{n}{parse\PYZus{}html}\PY{o}{=}\PY{k+kc}{True}\PY{p}{)}
    \PY{n}{folium}\PY{o}{.}\PY{n}{CircleMarker}\PY{p}{(}
        \PY{p}{[}\PY{n}{lat}\PY{p}{,} \PY{n}{lon}\PY{p}{]}\PY{p}{,}
        \PY{n}{radius}\PY{o}{=}\PY{l+m+mi}{5}\PY{p}{,}
        \PY{n}{popup}\PY{o}{=}\PY{n}{label}\PY{p}{,}
        \PY{n}{color}\PY{o}{=}\PY{n}{rainbow}\PY{p}{[}\PY{n}{cluster}\PY{o}{\PYZhy{}}\PY{l+m+mi}{1}\PY{p}{]}\PY{p}{,}
        \PY{n}{fill}\PY{o}{=}\PY{k+kc}{True}\PY{p}{,}
        \PY{n}{fill\PYZus{}color}\PY{o}{=}\PY{n}{rainbow}\PY{p}{[}\PY{n}{cluster}\PY{o}{\PYZhy{}}\PY{l+m+mi}{1}\PY{p}{]}\PY{p}{,}
        \PY{n}{fill\PYZus{}opacity}\PY{o}{=}\PY{l+m+mf}{0.7}\PY{p}{)}\PY{o}{.}\PY{n}{add\PYZus{}to}\PY{p}{(}\PY{n}{map\PYZus{}clusters}\PY{p}{)}
       
\PY{n}{map\PYZus{}clusters}
\end{Verbatim}
\end{tcolorbox}

            \begin{tcolorbox}[breakable, size=fbox, boxrule=.5pt, pad at break*=1mm, opacityfill=0]
\prompt{Out}{outcolor}{44}{\boxspacing}
\begin{Verbatim}[commandchars=\\\{\}]
<folium.folium.Map at 0x25cb4252f98>
\end{Verbatim}
\end{tcolorbox}
        
    \hypertarget{examine-clusters}{%
\subsubsection{Examine Clusters}\label{examine-clusters}}

Now, you can examine each cluster and determine the discriminating venue
categories that distinguish each cluster.

\textbf{Cluster 0}

    \begin{tcolorbox}[breakable, size=fbox, boxrule=1pt, pad at break*=1mm,colback=cellbackground, colframe=cellborder]
\prompt{In}{incolor}{45}{\boxspacing}
\begin{Verbatim}[commandchars=\\\{\}]
\PY{n}{toronto\PYZus{}denc\PYZus{}merged}\PY{o}{.}\PY{n}{loc}\PY{p}{[}\PY{n}{toronto\PYZus{}denc\PYZus{}merged}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Cluster Labels}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]} \PY{o}{==} \PY{l+m+mi}{0}\PY{p}{,} \PY{n}{toronto\PYZus{}denc\PYZus{}merged}\PY{o}{.}\PY{n}{columns}\PY{p}{[}\PY{p}{[}\PY{l+m+mi}{1}\PY{p}{]} \PY{o}{+} \PY{n+nb}{list}\PY{p}{(}\PY{n+nb}{range}\PY{p}{(}\PY{l+m+mi}{5}\PY{p}{,} \PY{n}{toronto\PYZus{}denc\PYZus{}merged}\PY{o}{.}\PY{n}{shape}\PY{p}{[}\PY{l+m+mi}{1}\PY{p}{]}\PY{p}{)}\PY{p}{)}\PY{p}{]}\PY{p}{]}
\end{Verbatim}
\end{tcolorbox}

            \begin{tcolorbox}[breakable, size=fbox, boxrule=.5pt, pad at break*=1mm, opacityfill=0]
\prompt{Out}{outcolor}{45}{\boxspacing}
\begin{Verbatim}[commandchars=\\\{\}]
             Borough  Cluster Labels 1st Most Common Venue  \textbackslash{}
10  Downtown Toronto               0                  Park
23   Central Toronto               0                  Park

   2nd Most Common Venue 3rd Most Common Venue 4th Most Common Venue  \textbackslash{}
10            Playground                 Trail      Department Store
23         Jewelry Store                 Trail      Sushi Restaurant

   5th Most Common Venue 6th Most Common Venue        7th Most Common Venue  \textbackslash{}
10  Ethiopian Restaurant     Electronics Store  Eastern European Restaurant
23          Dessert Shop  Ethiopian Restaurant            Electronics Store

          8th Most Common Venue 9th Most Common Venue 10th Most Common Venue
10          Dumpling Restaurant            Donut Shop       Doner Restaurant
23  Eastern European Restaurant   Dumpling Restaurant             Donut Shop
\end{Verbatim}
\end{tcolorbox}
        
    \textbf{Cluster 1}

    \begin{tcolorbox}[breakable, size=fbox, boxrule=1pt, pad at break*=1mm,colback=cellbackground, colframe=cellborder]
\prompt{In}{incolor}{46}{\boxspacing}
\begin{Verbatim}[commandchars=\\\{\}]
\PY{n}{toronto\PYZus{}denc\PYZus{}merged}\PY{o}{.}\PY{n}{loc}\PY{p}{[}\PY{n}{toronto\PYZus{}denc\PYZus{}merged}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Cluster Labels}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]} \PY{o}{==} \PY{l+m+mi}{1}\PY{p}{,} \PY{n}{toronto\PYZus{}denc\PYZus{}merged}\PY{o}{.}\PY{n}{columns}\PY{p}{[}\PY{p}{[}\PY{l+m+mi}{1}\PY{p}{]} \PY{o}{+} \PY{n+nb}{list}\PY{p}{(}\PY{n+nb}{range}\PY{p}{(}\PY{l+m+mi}{5}\PY{p}{,} \PY{n}{toronto\PYZus{}denc\PYZus{}merged}\PY{o}{.}\PY{n}{shape}\PY{p}{[}\PY{l+m+mi}{1}\PY{p}{]}\PY{p}{)}\PY{p}{)}\PY{p}{]}\PY{p}{]}
\end{Verbatim}
\end{tcolorbox}

            \begin{tcolorbox}[breakable, size=fbox, boxrule=.5pt, pad at break*=1mm, opacityfill=0]
\prompt{Out}{outcolor}{46}{\boxspacing}
\begin{Verbatim}[commandchars=\\\{\}]
             Borough  Cluster Labels 1st Most Common Venue  \textbackslash{}
1       East Toronto               1      Greek Restaurant
3       East Toronto               1                  Café
6    Central Toronto               1        Clothing Store
7    Central Toronto               1          Dessert Shop
9    Central Toronto               1           Coffee Shop
11  Downtown Toronto               1           Coffee Shop
12  Downtown Toronto               1           Coffee Shop
13  Downtown Toronto               1           Coffee Shop
14  Downtown Toronto               1           Coffee Shop
15  Downtown Toronto               1           Coffee Shop
16  Downtown Toronto               1           Coffee Shop
17  Downtown Toronto               1           Coffee Shop
18  Downtown Toronto               1           Coffee Shop
19  Downtown Toronto               1           Coffee Shop
20  Downtown Toronto               1           Coffee Shop
21  Downtown Toronto               1           Coffee Shop
24   Central Toronto               1                  Café
25  Downtown Toronto               1                  Café
26  Downtown Toronto               1                   Bar
27  Downtown Toronto               1       Airport Service
28  Downtown Toronto               1           Coffee Shop
29  Downtown Toronto               1           Coffee Shop
30  Downtown Toronto               1         Grocery Store
31      West Toronto               1                Bakery
32      West Toronto               1                   Bar
33      West Toronto               1        Breakfast Spot
34      West Toronto               1    Mexican Restaurant
35      West Toronto               1        Breakfast Spot
36      West Toronto               1           Coffee Shop
37  Downtown Toronto               1           Coffee Shop
38      East Toronto               1           Yoga Studio

   2nd Most Common Venue  3rd Most Common Venue  \textbackslash{}
1            Coffee Shop     Italian Restaurant
3            Coffee Shop              Gastropub
6            Coffee Shop                   Café
7         Sandwich Place            Pizza Place
9                    Pub            Pizza Place
11                  Café                 Market
12   Japanese Restaurant                Gay Bar
13                  Park                 Bakery
14        Clothing Store        Bubble Tea Shop
15                  Café             Restaurant
16    Seafood Restaurant      French Restaurant
17    Italian Restaurant    Japanese Restaurant
18       Thai Restaurant             Restaurant
19              Aquarium                  Hotel
20                  Café             Restaurant
21                  Café             Restaurant
24        Sandwich Place            Coffee Shop
25             Bookstore             Restaurant
26                  Café  Vietnamese Restaurant
27      Airport Terminal         Airport Lounge
28            Restaurant                   Café
29                  Café             Restaurant
30                  Café                   Park
31              Pharmacy            Music Venue
32           Coffee Shop             Restaurant
33                  Café            Coffee Shop
34       Thai Restaurant                    Bar
35             Gift Shop          Movie Theater
36                  Café       Sushi Restaurant
37                   Gym                   Park
38         Auto Workshop                   Park

            4th Most Common Venue      5th Most Common Venue  \textbackslash{}
1                  Ice Cream Shop                  Bookstore
3                          Bakery                    Brewery
6                      Restaurant               Dessert Shop
7              Italian Restaurant           Sushi Restaurant
9                      Bagel Shop                 Restaurant
11             Italian Restaurant                Pizza Place
12                     Restaurant           Sushi Restaurant
13                            Pub         Mexican Restaurant
14      Middle Eastern Restaurant                       Café
15                 Clothing Store                      Hotel
16                 Farmers Market                     Bakery
17                      Juice Bar             Sandwich Place
18                            Bar                       Café
19                           Café         Italian Restaurant
20                          Hotel                     Bakery
21                          Hotel                        Gym
24            American Restaurant  Middle Eastern Restaurant
25                         Bakery                        Bar
26  Vegetarian / Vegan Restaurant                     Bakery
27                       Boutique        Rental Car Location
28            Japanese Restaurant         Seafood Restaurant
29            American Restaurant                      Hotel
30                     Restaurant                 Baby Store
31                           Bank                    Brewery
32               Asian Restaurant                Men's Store
33                            Gym                     Bakery
34                           Café                      Diner
35    Eastern European Restaurant         Italian Restaurant
36             Italian Restaurant                Pizza Place
37                   Burger Joint       Fast Food Restaurant
38                    Pizza Place                 Restaurant

     6th Most Common Venue 7th Most Common Venue      8th Most Common Venue  \textbackslash{}
1   Furniture / Home Store                Lounge                        Spa
3       Italian Restaurant   American Restaurant                Yoga Studio
6       Miscellaneous Shop    Salon / Barbershop         Chinese Restaurant
7                     Café           Coffee Shop                        Gym
9      Fried Chicken Joint            Sports Bar                Supermarket
11                  Bakery                   Pub                 Restaurant
12                     Pub           Men's Store   Mediterranean Restaurant
13          Breakfast Spot                  Café                 Restaurant
14     Japanese Restaurant      Ramen Restaurant         Italian Restaurant
15          Breakfast Spot   American Restaurant             Cosmetics Shop
16              Restaurant           Cheese Shop                       Café
17            Burger Joint    Chinese Restaurant                        Bar
18              Steakhouse      Sushi Restaurant         Seafood Restaurant
19          Scenic Lookout               Brewery        Fried Chicken Joint
20      Seafood Restaurant   American Restaurant         Italian Restaurant
21     American Restaurant    Seafood Restaurant        Japanese Restaurant
24                     Pub             BBQ Joint             History Museum
25     Japanese Restaurant    Italian Restaurant                Flower Shop
26             Coffee Shop    Chinese Restaurant         Mexican Restaurant
27           Boat or Ferry       Harbor / Marina           Sculpture Garden
28                Beer Bar                 Hotel         Italian Restaurant
29      Seafood Restaurant                   Bar                 Steakhouse
30             Candy Store                 Diner         Italian Restaurant
31                    Café           Art Gallery  Middle Eastern Restaurant
32                    Café           Pizza Place                     Bakery
33                 Stadium         Burrito Place                 Restaurant
34      Italian Restaurant                Bakery                Flea Market
35                 Dog Run                   Bar                       Bank
36                     Gym             Bookstore             Scenic Lookout
37   Portuguese Restaurant             Nightclub                Music Venue
38                 Butcher         Burrito Place                    Brewery

      9th Most Common Venue 10th Most Common Venue
1                   Brewery        Bubble Tea Shop
3   Comfort Food Restaurant     Seafood Restaurant
6      Fast Food Restaurant                  Diner
7          Indoor Play Area    Japanese Restaurant
9       American Restaurant           Liquor Store
11                Gastropub      Indian Restaurant
12                    Hotel              Gastropub
13                  Theater             Shoe Store
14                Bookstore      Electronics Store
15       Italian Restaurant                 Bakery
16             Cocktail Bar               Beer Bar
17         Department Store            Salad Place
18                Gastropub         Cosmetics Shop
19               Restaurant                 Bakery
20      Japanese Restaurant                    Bar
21            Deli / Bodega     Italian Restaurant
24            Metro Station            Pizza Place
25                      Pub          Poutine Place
26      Dumpling Restaurant          Grocery Store
27                      Bar           Airport Gate
28                      Pub            Cheese Shop
29      Japanese Restaurant                    Gym
30              Coffee Shop            Gas Station
31                     Pool   Gym / Fitness Center
32    Vietnamese Restaurant               Wine Bar
33             Climbing Gym              Pet Store
34                Speakeasy    Fried Chicken Joint
35             Dessert Shop              Bookstore
36           Sandwich Place             Restaurant
37       Mexican Restaurant              Juice Bar
38               Skate Park             Smoke Shop
\end{Verbatim}
\end{tcolorbox}
        
    \textbf{Cluster 2}

    \begin{tcolorbox}[breakable, size=fbox, boxrule=1pt, pad at break*=1mm,colback=cellbackground, colframe=cellborder]
\prompt{In}{incolor}{47}{\boxspacing}
\begin{Verbatim}[commandchars=\\\{\}]
\PY{n}{toronto\PYZus{}denc\PYZus{}merged}\PY{o}{.}\PY{n}{loc}\PY{p}{[}\PY{n}{toronto\PYZus{}denc\PYZus{}merged}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Cluster Labels}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]} \PY{o}{==} \PY{l+m+mi}{2}\PY{p}{,} \PY{n}{toronto\PYZus{}denc\PYZus{}merged}\PY{o}{.}\PY{n}{columns}\PY{p}{[}\PY{p}{[}\PY{l+m+mi}{1}\PY{p}{]} \PY{o}{+} \PY{n+nb}{list}\PY{p}{(}\PY{n+nb}{range}\PY{p}{(}\PY{l+m+mi}{5}\PY{p}{,} \PY{n}{toronto\PYZus{}denc\PYZus{}merged}\PY{o}{.}\PY{n}{shape}\PY{p}{[}\PY{l+m+mi}{1}\PY{p}{]}\PY{p}{)}\PY{p}{)}\PY{p}{]}\PY{p}{]}
\end{Verbatim}
\end{tcolorbox}

            \begin{tcolorbox}[breakable, size=fbox, boxrule=.5pt, pad at break*=1mm, opacityfill=0]
\prompt{Out}{outcolor}{47}{\boxspacing}
\begin{Verbatim}[commandchars=\\\{\}]
           Borough  Cluster Labels 1st Most Common Venue  \textbackslash{}
0     East Toronto               2                 Trail
2     East Toronto               2        Sandwich Place
4  Central Toronto               2                  Park
5  Central Toronto               2                   Gym

  2nd Most Common Venue 3rd Most Common Venue 4th Most Common Venue  \textbackslash{}
0           Pizza Place     Health Food Store                   Pub
2                  Park                   Gym                   Pub
4              Bus Line           Swim School         Women's Store
5                 Hotel     Convenience Store      Department Store

  5th Most Common Venue 6th Most Common Venue 7th Most Common Venue  \textbackslash{}
0               Dog Run    Dim Sum Restaurant                 Diner
2         Burrito Place  Fast Food Restaurant    Italian Restaurant
4    Dim Sum Restaurant  Ethiopian Restaurant     Electronics Store
5        Sandwich Place               Dog Run        Breakfast Spot

         8th Most Common Venue 9th Most Common Venue 10th Most Common Venue
0               Discount Store   Distribution Center          Women's Store
2            Fish \& Chips Shop            Steakhouse       Sushi Restaurant
4  Eastern European Restaurant   Dumpling Restaurant             Donut Shop
5            Food \& Drink Shop                  Park            Gas Station
\end{Verbatim}
\end{tcolorbox}
        
    \textbf{Cluster 3}

    \begin{tcolorbox}[breakable, size=fbox, boxrule=1pt, pad at break*=1mm,colback=cellbackground, colframe=cellborder]
\prompt{In}{incolor}{48}{\boxspacing}
\begin{Verbatim}[commandchars=\\\{\}]
\PY{n}{toronto\PYZus{}denc\PYZus{}merged}\PY{o}{.}\PY{n}{loc}\PY{p}{[}\PY{n}{toronto\PYZus{}denc\PYZus{}merged}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Cluster Labels}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]} \PY{o}{==} \PY{l+m+mi}{3}\PY{p}{,} \PY{n}{toronto\PYZus{}denc\PYZus{}merged}\PY{o}{.}\PY{n}{columns}\PY{p}{[}\PY{p}{[}\PY{l+m+mi}{1}\PY{p}{]} \PY{o}{+} \PY{n+nb}{list}\PY{p}{(}\PY{n+nb}{range}\PY{p}{(}\PY{l+m+mi}{5}\PY{p}{,} \PY{n}{toronto\PYZus{}denc\PYZus{}merged}\PY{o}{.}\PY{n}{shape}\PY{p}{[}\PY{l+m+mi}{1}\PY{p}{]}\PY{p}{)}\PY{p}{)}\PY{p}{]}\PY{p}{]}
\end{Verbatim}
\end{tcolorbox}

            \begin{tcolorbox}[breakable, size=fbox, boxrule=.5pt, pad at break*=1mm, opacityfill=0]
\prompt{Out}{outcolor}{48}{\boxspacing}
\begin{Verbatim}[commandchars=\\\{\}]
            Borough  Cluster Labels 1st Most Common Venue  \textbackslash{}
22  Central Toronto               3                  Pool

   2nd Most Common Venue 3rd Most Common Venue 4th Most Common Venue  \textbackslash{}
22                Garden        Ice Cream Shop         Women's Store

   5th Most Common Venue 6th Most Common Venue 7th Most Common Venue  \textbackslash{}
22          Dessert Shop  Ethiopian Restaurant     Electronics Store

          8th Most Common Venue 9th Most Common Venue 10th Most Common Venue
22  Eastern European Restaurant   Dumpling Restaurant             Donut Shop
\end{Verbatim}
\end{tcolorbox}
        
    \textbf{Cluster 4}

    \begin{tcolorbox}[breakable, size=fbox, boxrule=1pt, pad at break*=1mm,colback=cellbackground, colframe=cellborder]
\prompt{In}{incolor}{49}{\boxspacing}
\begin{Verbatim}[commandchars=\\\{\}]
\PY{n}{toronto\PYZus{}denc\PYZus{}merged}\PY{o}{.}\PY{n}{loc}\PY{p}{[}\PY{n}{toronto\PYZus{}denc\PYZus{}merged}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Cluster Labels}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]} \PY{o}{==} \PY{l+m+mi}{4}\PY{p}{,} \PY{n}{toronto\PYZus{}denc\PYZus{}merged}\PY{o}{.}\PY{n}{columns}\PY{p}{[}\PY{p}{[}\PY{l+m+mi}{1}\PY{p}{]} \PY{o}{+} \PY{n+nb}{list}\PY{p}{(}\PY{n+nb}{range}\PY{p}{(}\PY{l+m+mi}{5}\PY{p}{,} \PY{n}{toronto\PYZus{}denc\PYZus{}merged}\PY{o}{.}\PY{n}{shape}\PY{p}{[}\PY{l+m+mi}{1}\PY{p}{]}\PY{p}{)}\PY{p}{)}\PY{p}{]}\PY{p}{]}
\end{Verbatim}
\end{tcolorbox}

            \begin{tcolorbox}[breakable, size=fbox, boxrule=.5pt, pad at break*=1mm, opacityfill=0]
\prompt{Out}{outcolor}{49}{\boxspacing}
\begin{Verbatim}[commandchars=\\\{\}]
           Borough  Cluster Labels 1st Most Common Venue  \textbackslash{}
8  Central Toronto               4            Playground

  2nd Most Common Venue 3rd Most Common Venue 4th Most Common Venue  \textbackslash{}
8          Tennis Court         Women's Store      Department Store

  5th Most Common Venue 6th Most Common Venue        7th Most Common Venue  \textbackslash{}
8  Ethiopian Restaurant     Electronics Store  Eastern European Restaurant

  8th Most Common Venue 9th Most Common Venue 10th Most Common Venue
8   Dumpling Restaurant            Donut Shop       Doner Restaurant
\end{Verbatim}
\end{tcolorbox}
        
    \hypertarget{end-of-coursera-capstone-project-segmenting-and-clustering-neighborhoods-in-toronto}{%
\subsection{End of Coursera Capstone Project: Segmenting and Clustering
Neighborhoods in
Toronto}\label{end-of-coursera-capstone-project-segmenting-and-clustering-neighborhoods-in-toronto}}

\hypertarget{thank-you-evaluator}{%
\subsection{Thank you ! Evaluator}\label{thank-you-evaluator}}

\hypertarget{kapil-kumar-nagwanshi}{%
\paragraph{Kapil Kumar Nagwanshi}\label{kapil-kumar-nagwanshi}}


    % Add a bibliography block to the postdoc
    
    
    
\end{document}
